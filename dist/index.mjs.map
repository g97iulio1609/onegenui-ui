{"version":3,"sources":["../src/utils/cn.ts","../src/layout/Card/component.tsx","../src/layout/Grid/component.tsx","../src/layout/Stack/component.tsx","../src/layout/Divider/component.tsx","../src/typography/Heading/component.tsx","../src/typography/Text/component.tsx","../src/typography/CodeBlock/component.tsx","../src/typography/Document/component.tsx","../src/status/Badge/component.tsx","../src/utils/data-utils.ts","../src/status/Alert/component.tsx","../src/status/Empty/component.tsx","../src/status/BrowserAction/component.tsx","../src/forms/Button/component.tsx","../src/forms/TextField/component.tsx","../src/forms/Select/component.tsx","../src/forms/DatePicker/component.tsx","../src/data-display/Metric/component.tsx","../src/data-display/Table/component.tsx","../src/data-display/List/component.tsx","../src/data-display/Timeline/component.tsx","../src/data-display/SearchResults/component.tsx","../src/data-display/SearchResults/components/citation-link.tsx","../src/data-display/SearchResults/components/text-with-citations.tsx","../src/data-display/SearchResults/components/synthesis-section.tsx","../src/data-display/SearchResults/components/media-gallery.tsx","../src/data-display/SearchResults/components/video-utils.ts","../src/data-display/SearchResults/components/sources-sidebar.tsx","../src/data-display/SearchResults/components/rich-result-card.tsx","../src/data-display/SearchResults/components/inline-result.tsx","../src/data-display/DriveFile/component.tsx","../src/data-display/DriveFileList/component.tsx","../src/data-display/DriveFileList/components/file-views.tsx","../src/data-display/DriveFileList/components/types.ts","../src/data-display/DriveFileList/components/icons.tsx","../src/data-display/Weather/component.tsx","../src/utils/media-utils.ts","../src/data-display/DocumentIndex/component.tsx","../src/media/Audio/component.tsx","../src/media/Video/component.tsx","../src/media/Video/components/video-utils.ts","../src/media/Video/components/video-card.tsx","../src/media/Image/component.tsx","../src/media/Gallery/component.tsx"],"sourcesContent":["// Re-export from shared utils package\nexport { cn } from \"@onegenui/utils\";\n","\"use client\";\n\nimport { memo, useId } from \"react\";\nimport { type ComponentRenderProps } from \"@onegenui/react\";\nimport { motion } from \"framer-motion\";\nimport { cn } from \"../../utils/cn\";\n\n/** Mobile-first responsive padding classes */\nconst PADDING_CLASSES: Record<string, string> = {\n  none: \"p-0\",\n  sm: \"p-2 sm:p-3\",\n  md: \"p-3 sm:p-4\",\n  lg: \"p-4 sm:p-5 lg:p-6\",\n};\n\n/** Card animation variants */\nconst cardVariants = {\n  hidden: { opacity: 0, y: \"0.625rem\" },\n  visible: { opacity: 1, y: 0 },\n};\n\nexport const Card = memo(function Card({\n  element,\n  children,\n}: ComponentRenderProps) {\n  const { title, description, padding, role, ariaLabelledBy } = element.props as {\n    title?: string | null;\n    description?: string | null;\n    padding?: \"none\" | \"sm\" | \"md\" | \"lg\" | null;\n    role?: string | null;\n    ariaLabelledBy?: string | null;\n  };\n\n  const titleId = useId();\n  const descriptionId = useId();\n\n  // Build aria-labelledby from title/description if present\n  const accessibleLabelledBy = ariaLabelledBy ?? \n    (title ? `${titleId}${description ? ` ${descriptionId}` : \"\"}` : undefined);\n\n  return (\n    <motion.section\n      variants={cardVariants}\n      initial=\"hidden\"\n      animate=\"visible\"\n      transition={{ duration: 0.3, ease: \"easeOut\" }}\n      role={role ?? undefined}\n      aria-labelledby={accessibleLabelledBy}\n      className=\"card-glass w-full min-w-0 flex flex-col motion-reduce:transition-none\"\n    >\n      <div className=\"gradient-bar-thin opacity-20\" aria-hidden=\"true\" />\n\n      {(title || description) && (\n        <div className=\"flex flex-col gap-1 p-4 sm:p-5 lg:p-6 pb-3 sm:pb-4 border-b border-white/5 bg-white/[0.02]\">\n          {title && (\n            <h3 \n              id={titleId}\n              className=\"text-base sm:text-lg font-bold leading-tight tracking-tight text-foreground\"\n            >\n              {title}\n            </h3>\n          )}\n          {description && (\n            <p \n              id={descriptionId}\n              className=\"text-xs sm:text-sm text-muted-foreground font-medium leading-relaxed\"\n            >\n              {description}\n            </p>\n          )}\n        </div>\n      )}\n\n      <div\n        className={cn(\n          \"min-w-0 flex-1\",\n          PADDING_CLASSES[padding || \"\"] || \"p-4 sm:p-5 lg:p-6\",\n        )}\n      >\n        {children}\n      </div>\n    </motion.section>\n  );\n});\n","\"use client\";\n\nimport {\n  memo,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n  Children,\n  isValidElement,\n} from \"react\";\nimport { type ComponentRenderProps } from \"@onegenui/react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { cn } from \"../../utils/cn\";\nimport { LayoutGrid } from \"lucide-react\";\n\n/** Mobile-first responsive gap classes */\nconst GAP_CLASSES: Record<string, string> = {\n  none: \"gap-0\",\n  sm: \"gap-2 sm:gap-3\",\n  md: \"gap-3 sm:gap-4 lg:gap-5\",\n  lg: \"gap-4 sm:gap-5 lg:gap-6\",\n};\n\n/** Grid animation variants */\nconst containerVariants = {\n  hidden: { opacity: 0 },\n  visible: {\n    opacity: 1,\n    transition: { staggerChildren: 0.05 },\n  },\n};\n\nconst itemVariants = {\n  hidden: { opacity: 0, y: \"0.5rem\" },\n  visible: { opacity: 1, y: 0 },\n  exit: { opacity: 0, y: \"-0.5rem\" },\n};\n\nexport const Grid = memo(function Grid({\n  element,\n  children,\n}: ComponentRenderProps) {\n  const { columns, gap } = element.props as {\n    columns?: number | null;\n    gap?: \"none\" | \"sm\" | \"md\" | \"lg\" | null;\n  };\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [forceSingleColumn, setForceSingleColumn] = useState(false);\n\n  const gapClass = useMemo(\n    () => GAP_CLASSES[gap || \"md\"] || GAP_CLASSES.md,\n    [gap],\n  );\n\n  const evaluateLayout = useCallback(() => {\n    if (typeof window === \"undefined\") return;\n    const elementNode = containerRef.current;\n    if (!elementNode) return;\n\n    const childElements = Array.from(elementNode.children) as HTMLElement[];\n    const childCount = childElements.length;\n    if (childCount <= 1) {\n      setForceSingleColumn(false);\n      return;\n    }\n\n    const maxHeight = childElements.reduce((acc, child) => {\n      const height = child.getBoundingClientRect().height;\n      return Math.max(acc, height);\n    }, 0);\n    const viewportHeight = window.innerHeight || 0;\n    const isTall = maxHeight >= Math.max(520, viewportHeight * 0.6);\n    const isWide = elementNode.clientWidth >= 1400;\n    const shouldStack = isWide && isTall && childCount <= 3;\n\n    setForceSingleColumn(shouldStack);\n  }, []);\n\n  useEffect(() => {\n    const elementNode = containerRef.current;\n    if (!elementNode) return;\n\n    evaluateLayout();\n\n    if (typeof ResizeObserver === \"undefined\") return;\n    const observer = new ResizeObserver(evaluateLayout);\n    observer.observe(elementNode);\n    Array.from(elementNode.children).forEach((child) =>\n      observer.observe(child),\n    );\n\n    return () => observer.disconnect();\n  }, [children, columns, evaluateLayout]);\n\n  if (Children.count(children) === 0) {\n    return (\n      <motion.div\n        initial={{ opacity: 0, scale: 0.98 }}\n        animate={{ opacity: 1, scale: 1 }}\n        className=\"py-8 sm:py-12 flex flex-col items-center justify-center border border-dashed border-white/10 rounded-xl sm:rounded-2xl bg-zinc-900/20 text-muted-foreground\"\n      >\n        <LayoutGrid className=\"w-8 h-8 sm:w-10 sm:h-10 opacity-20 mb-2 sm:mb-3\" />\n        <p className=\"font-mono text-[0.625rem] sm:text-xs uppercase tracking-widest opacity-50\">\n          Empty Grid\n        </p>\n      </motion.div>\n    );\n  }\n\n  return (\n    <motion.div\n      variants={containerVariants}\n      initial=\"hidden\"\n      animate=\"visible\"\n      ref={containerRef}\n      className={cn(\n        \"grid w-full min-w-0 max-w-full items-stretch justify-items-stretch\",\n        // Mobile-first: 1 column, then responsive based on content\n        forceSingleColumn\n          ? \"grid-cols-1\"\n          : \"grid-cols-1 sm:grid-cols-[repeat(auto-fit,minmax(18rem,1fr))] lg:grid-cols-[repeat(auto-fit,minmax(20rem,1fr))]\",\n        gapClass,\n      )}\n    >\n      <AnimatePresence mode=\"popLayout\">\n        {Children.map(children, (child, index) => {\n          // Extract key from child element if available\n          const childKey = isValidElement(child) \n            ? (child.key ?? `grid-item-${index}`)\n            : `grid-item-${index}`;\n          return (\n            <motion.div \n              key={childKey}\n              variants={itemVariants}\n              initial=\"hidden\"\n              animate=\"visible\"\n              exit=\"exit\"\n            >\n              {child}\n            </motion.div>\n          );\n        })}\n      </AnimatePresence>\n    </motion.div>\n  );\n});\n","\"use client\";\n\nimport { memo, useCallback, useEffect, useRef, useState } from \"react\";\nimport { type ComponentRenderProps } from \"@onegenui/react\";\nimport { motion } from \"framer-motion\";\nimport { cn } from \"../../utils/cn\";\n\n/** Mobile-first responsive gap classes */\nconst GAP_CLASSES: Record<string, string> = {\n  none: \"gap-0\",\n  sm: \"gap-2 sm:gap-3\",\n  md: \"gap-3 sm:gap-4 lg:gap-5\",\n  lg: \"gap-4 sm:gap-5 lg:gap-6\",\n};\n\n/** Alignment classes */\nconst ALIGN_CLASSES: Record<string, string> = {\n  start: \"items-start\",\n  center: \"items-center\",\n  end: \"items-end\",\n  stretch: \"items-stretch\",\n};\n\n/** Stack animation variants */\nconst stackVariants = {\n  hidden: { opacity: 0 },\n  visible: { opacity: 1, transition: { duration: 0.2 } },\n};\n\nexport const Stack = memo(function Stack({\n  element,\n  children,\n}: ComponentRenderProps) {\n  const { direction, gap, align, wrap } = element.props as {\n    direction?: string | null;\n    gap?: string | null;\n    align?: string | null;\n    wrap?: boolean | null;\n  };\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [forceVertical, setForceVertical] = useState(false);\n\n  const isHorizontal = direction === \"horizontal\";\n  const shouldWrap = wrap !== false && isHorizontal;\n\n  const evaluateLayout = useCallback(() => {\n    if (typeof window === \"undefined\") return;\n    const node = containerRef.current;\n    if (!node) return;\n    if (!isHorizontal) {\n      setForceVertical(false);\n      return;\n    }\n\n    const childElements = Array.from(node.children) as HTMLElement[];\n    if (childElements.length <= 1) {\n      setForceVertical(false);\n      return;\n    }\n\n    const maxHeight = childElements.reduce((acc, child) => {\n      const height = child.getBoundingClientRect().height;\n      return Math.max(acc, height);\n    }, 0);\n    const viewportHeight = window.innerHeight || 0;\n    const isTall = maxHeight >= Math.max(520, viewportHeight * 0.6);\n    const isWide = node.clientWidth >= 1400;\n    const shouldStack = isWide && isTall;\n\n    setForceVertical(shouldStack);\n  }, [isHorizontal]);\n\n  useEffect(() => {\n    const node = containerRef.current;\n    if (!node) return;\n\n    evaluateLayout();\n\n    if (typeof ResizeObserver === \"undefined\") return;\n    const observer = new ResizeObserver(evaluateLayout);\n    observer.observe(node);\n    Array.from(node.children).forEach((child) => observer.observe(child));\n\n    return () => observer.disconnect();\n  }, [children, evaluateLayout]);\n\n  // Mobile-first: vertical by default on mobile for horizontal stacks\n  const effectiveDirection = forceVertical\n    ? \"flex-col\"\n    : isHorizontal\n      ? \"flex-col sm:flex-row\"\n      : \"flex-col\";\n\n  return (\n    <motion.div\n      variants={stackVariants}\n      initial=\"hidden\"\n      animate=\"visible\"\n      ref={containerRef}\n      className={cn(\n        \"flex w-full min-w-0 max-w-full\",\n        effectiveDirection,\n        shouldWrap && !forceVertical ? \"sm:flex-wrap\" : \"flex-nowrap\",\n        GAP_CLASSES[gap || \"md\"] || GAP_CLASSES.md,\n        ALIGN_CLASSES[align || \"stretch\"] || ALIGN_CLASSES.stretch,\n      )}\n    >\n      {children}\n    </motion.div>\n  );\n});\n","\"use client\";\n\nimport { memo } from \"react\";\nimport { type ComponentRenderProps } from \"@onegenui/react\";\nimport { motion } from \"framer-motion\";\n\n/** Divider animation variants */\nconst horizontalVariants = {\n  hidden: { opacity: 0, scaleX: 0.8 },\n  visible: { opacity: 1, scaleX: 1 },\n};\n\nconst verticalVariants = {\n  hidden: { opacity: 0, scaleY: 0 },\n  visible: { opacity: 1, scaleY: 1 },\n};\n\nconst labelledVariants = {\n  hidden: { opacity: 0, scaleX: 0.9 },\n  visible: { opacity: 1, scaleX: 1 },\n};\n\nexport const Divider = memo(function Divider({\n  element,\n  children,\n}: ComponentRenderProps) {\n  const { orientation, label } = element.props as {\n    orientation?: string | null;\n    label?: string | null;\n  };\n\n  if (orientation === \"vertical\") {\n    return (\n      <motion.div\n        variants={verticalVariants}\n        initial=\"hidden\"\n        animate=\"visible\"\n        transition={{ duration: 0.3, ease: \"easeOut\" }}\n        className=\"flex flex-col h-full\"\n      >\n        <div className=\"w-px bg-white/10 self-stretch h-full\" />\n        {children}\n      </motion.div>\n    );\n  }\n\n  if (label) {\n    return (\n      <motion.div\n        variants={labelledVariants}\n        initial=\"hidden\"\n        animate=\"visible\"\n        transition={{ duration: 0.3, ease: \"easeOut\" }}\n        className=\"flex items-center gap-2 sm:gap-3 my-3 sm:my-4 w-full\"\n      >\n        <div className=\"flex-1 h-px bg-white/10\" />\n        <span className=\"text-[0.5625rem] sm:text-[0.625rem] uppercase font-bold tracking-wider text-muted-foreground whitespace-nowrap\">\n          {label}\n        </span>\n        <div className=\"flex-1 h-px bg-white/10\" />\n        {children}\n      </motion.div>\n    );\n  }\n\n  return (\n    <motion.div\n      variants={horizontalVariants}\n      initial=\"hidden\"\n      animate=\"visible\"\n      transition={{ duration: 0.3, ease: \"easeOut\" }}\n      className=\"w-full\"\n    >\n      <div className=\"divider-perforated\" />\n      {children}\n    </motion.div>\n  );\n});\n","import React, { memo } from \"react\";\nimport { type ComponentRenderProps } from \"@onegenui/react\";\nimport { motion } from \"framer-motion\";\nimport { cn } from \"../../utils/cn\";\n\n/** Heading animation variants */\nconst headingVariants = {\n  hidden: { opacity: 0, y: \"-0.3125rem\" },\n  visible: { opacity: 1, y: 0 },\n};\n\n/** Mobile-first responsive typography sizes */\nconst HEADING_SIZES = {\n  h1: \"text-2xl sm:text-3xl lg:text-4xl\",\n  h2: \"text-xl sm:text-2xl lg:text-3xl\",\n  h3: \"text-lg sm:text-xl lg:text-2xl\",\n  h4: \"text-base sm:text-lg lg:text-xl\",\n} as const;\n\nexport const Heading = memo(function Heading({\n  element,\n  children,\n  renderText,\n}: ComponentRenderProps) {\n  const { text, level } = element.props as {\n    text?: string | null;\n    level?: string | number | null;\n  };\n  const render = renderText ?? ((value: string | null | undefined) => value);\n\n  const normalizedLevel = (() => {\n    if (typeof level === \"number\" && Number.isFinite(level)) {\n      const bounded = Math.min(Math.max(Math.round(level), 1), 4);\n      return `h${bounded}` as keyof typeof HEADING_SIZES;\n    }\n    if (typeof level === \"string\") {\n      const trimmed = level.trim();\n      if (/^h[1-4]$/.test(trimmed)) {\n        return trimmed as keyof typeof HEADING_SIZES;\n      }\n      const parsed = Number.parseInt(trimmed, 10);\n      if (Number.isFinite(parsed)) {\n        const bounded = Math.min(Math.max(parsed, 1), 4);\n        return `h${bounded}` as keyof typeof HEADING_SIZES;\n      }\n    }\n    return \"h2\" as keyof typeof HEADING_SIZES;\n  })();\n\n  const Tag = motion.create(\n    normalizedLevel as keyof React.JSX.IntrinsicElements,\n  );\n\n  return (\n    <Tag\n      variants={headingVariants}\n      initial=\"hidden\"\n      animate=\"visible\"\n      transition={{ duration: 0.25, ease: \"easeOut\" }}\n      className={cn(\n        \"font-semibold tracking-tight mb-3 sm:mb-4 text-foreground\",\n        HEADING_SIZES[normalizedLevel],\n      )}\n    >\n      {render(text, { inline: true })}\n      {children}\n    </Tag>\n  );\n});\n","import { memo } from \"react\";\nimport { type ComponentRenderProps } from \"@onegenui/react\";\nimport { motion } from \"framer-motion\";\nimport { cn } from \"../../utils/cn\";\n\n/** Text animation variants */\nconst textVariants = {\n  hidden: { opacity: 0 },\n  visible: { opacity: 1 },\n};\n\n/** Mobile-first responsive text sizes */\nconst VARIANT_CLASSES: Record<string, string> = {\n  body: \"text-xs sm:text-sm\",\n  caption: \"text-[0.625rem] sm:text-xs\",\n  label: \"text-[0.6875rem] sm:text-[0.8125rem]\",\n};\n\nconst COLOR_CLASSES: Record<string, string> = {\n  default: \"text-foreground\",\n  muted: \"text-muted-foreground\",\n  info: \"text-muted-foreground\",\n  success: \"text-emerald-500\",\n  warning: \"text-amber-500\",\n  danger: \"text-rose-500\",\n  error: \"text-rose-500\",\n};\n\nexport const Text = memo(function Text({\n  element,\n  children,\n  renderText,\n}: ComponentRenderProps) {\n  const { content, variant, color } = element.props as {\n    content?: string | null;\n    variant?: string | null;\n    color?: string | null;\n  };\n  const render = renderText ?? ((value: string | null | undefined) => value);\n\n  const resolvedVariant = variant || \"body\";\n  const resolvedColor = color || \"default\";\n\n  return (\n    <motion.div\n      variants={textVariants}\n      initial=\"hidden\"\n      animate=\"visible\"\n      transition={{ duration: 0.2 }}\n      className={cn(\n        \"m-0 leading-relaxed\",\n        VARIANT_CLASSES[resolvedVariant] || VARIANT_CLASSES.body,\n        COLOR_CLASSES[resolvedColor] || COLOR_CLASSES.default,\n      )}\n    >\n      {render(content, { inline: true })}\n      {children}\n    </motion.div>\n  );\n});\n","import { memo, useState } from \"react\";\nimport { type ComponentRenderProps } from \"@onegenui/react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { cn } from \"../../utils/cn\";\nimport { ChevronDown, ChevronUp, Code2 } from \"lucide-react\";\n\ntype CodeSnippet = {\n  id?: string | null;\n  title?: string | null;\n  language?: string | null;\n  content: string;\n  summary?: string | null;\n  status?: \"generating\" | \"ready\" | \"failed\" | null;\n  progress?: number | null;\n};\n\n/** Animation variants */\nconst containerVariants = {\n  hidden: { opacity: 0 },\n  visible: { opacity: 1, transition: { staggerChildren: 0.05 } },\n};\n\nconst itemVariants = {\n  hidden: { opacity: 0, y: \"0.625rem\" },\n  visible: { opacity: 1, y: 0 },\n  exit: { opacity: 0, y: \"-0.625rem\" },\n};\n\nconst expandVariants = {\n  hidden: { height: 0, opacity: 0 },\n  visible: { height: \"auto\", opacity: 1 },\n  exit: { height: 0, opacity: 0 },\n};\n\nexport const CodeBlock = memo(function CodeBlock({\n  element,\n  children,\n}: ComponentRenderProps) {\n  const { title, snippets = [] } = element.props as {\n    title?: string | null;\n    snippets?: CodeSnippet[] | null;\n  };\n  const [expandedId, setExpandedId] = useState<string | null>(null);\n\n  if (!snippets || snippets.length === 0) {\n    return (\n      <div className=\"text-muted-foreground text-xs sm:text-sm italic p-3 sm:p-4\">\n        No code snippets\n      </div>\n    );\n  }\n\n  return (\n    <motion.div\n      variants={containerVariants}\n      initial=\"hidden\"\n      animate=\"visible\"\n      className=\"flex flex-col gap-3 sm:gap-4\"\n    >\n      {title && (\n        <h3 className=\"text-base sm:text-lg font-semibold tracking-tight m-0\">\n          {title}\n        </h3>\n      )}\n      <div className=\"flex flex-col gap-2 sm:gap-3\">\n        <AnimatePresence mode=\"popLayout\">\n          {snippets.map((snippet, index) => {\n            const snippetId = snippet.id ?? `${index}`;\n            const isExpanded = expandedId === snippetId;\n            return (\n              <motion.div\n                variants={itemVariants}\n                initial=\"hidden\"\n                animate=\"visible\"\n                exit=\"exit\"\n                key={snippetId}\n                data-selectable-item\n                data-element-key={element.key}\n                data-item-id={snippetId}\n                className=\"rounded-lg sm:rounded-xl border border-white/10 card-glass overflow-hidden shadow-lg\"\n              >\n                <button\n                  type=\"button\"\n                  onClick={() => setExpandedId(isExpanded ? null : snippetId)}\n                  className={cn(\n                    \"w-full flex items-center justify-between p-3 sm:p-4 text-left border-0 bg-transparent cursor-pointer transition-colors hover:bg-white/5 min-h-[2.75rem]\",\n                    isExpanded && \"bg-white/5\",\n                  )}\n                >\n                <div className=\"flex flex-col gap-0.5 sm:gap-1 min-w-0 flex-1\">\n                  <span className=\"text-xs sm:text-sm font-semibold flex items-center gap-1.5 sm:gap-2 text-foreground truncate\">\n                    <Code2 className=\"w-3.5 h-3.5 sm:w-4 sm:h-4 text-muted-foreground flex-shrink-0\" />\n                    <span className=\"truncate\">\n                      {snippet.title ?? \"Untitled snippet\"}\n                    </span>\n                  </span>\n                  {snippet.summary && (\n                    <span className=\"text-[0.625rem] sm:text-xs text-muted-foreground line-clamp-1\">\n                      {snippet.summary}\n                    </span>\n                  )}\n                </div>\n                <div className=\"flex items-center gap-2 sm:gap-3 flex-shrink-0 ml-2\">\n                  <span className=\"hidden sm:inline text-[0.5625rem] sm:text-[0.625rem] font-bold uppercase tracking-wider text-muted-foreground bg-white/5 px-1.5 sm:px-2 py-0.5 rounded-full border border-white/10\">\n                    {snippet.language ?? \"Code\"}\n                  </span>\n                  {isExpanded ? (\n                    <ChevronUp className=\"w-3.5 h-3.5 sm:w-4 sm:h-4 text-muted-foreground\" />\n                  ) : (\n                    <ChevronDown className=\"w-3.5 h-3.5 sm:w-4 sm:h-4 text-muted-foreground\" />\n                  )}\n                </div>\n              </button>\n\n              <AnimatePresence>\n                {isExpanded && (\n                  <motion.div\n                    variants={expandVariants}\n                    initial=\"hidden\"\n                    animate=\"visible\"\n                    exit=\"exit\"\n                    transition={{ duration: 0.2 }}\n                    className=\"relative border-t border-white/10 bg-black/20\"\n                  >\n                    <pre className=\"m-0 p-3 sm:p-4 text-[0.625rem] sm:text-xs overflow-x-auto font-mono leading-relaxed text-foreground\">\n                      <code>{snippet.content}</code>\n                    </pre>\n                  </motion.div>\n                )}\n              </AnimatePresence>\n            </motion.div>\n          );\n        })}\n        </AnimatePresence>\n      </div>\n      {children}\n    </motion.div>\n  );\n});\n","import { memo } from \"react\";\nimport { type ComponentRenderProps } from \"@onegenui/react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { FileText, Calendar, User } from \"lucide-react\";\n\ntype DocumentSection = {\n  id?: string | null;\n  title: string;\n  content?: string | null;\n  highlights?: string[] | null;\n};\n\ntype DocumentItem = {\n  id?: string | null;\n  title: string;\n  summary?: string | null;\n  content?: string | null;\n  author?: string | null;\n  createdAt?: string | null;\n  sections?: DocumentSection[] | null;\n  tags?: string[] | null;\n};\n\n/** Animation variants */\nconst containerVariants = {\n  hidden: { opacity: 0 },\n  visible: { opacity: 1, transition: { staggerChildren: 0.05 } },\n};\n\nconst itemVariants = {\n  hidden: { opacity: 0, y: \"0.625rem\" },\n  visible: { opacity: 1, y: 0 },\n  exit: { opacity: 0, y: \"-0.625rem\" },\n};\n\nexport const Document = memo(function Document({\n  element,\n  children,\n  renderText,\n}: ComponentRenderProps) {\n  const { title, documents = [] } = element.props as {\n    title?: string | null;\n    documents?: DocumentItem[] | null;\n  };\n  const render = renderText ?? ((value: string | null | undefined) => value);\n\n  if (!documents || documents.length === 0) {\n    return (\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        className=\"flex flex-col gap-3 sm:gap-4 p-4 sm:p-5 rounded-lg sm:rounded-xl border border-white/10 card-glass\"\n      >\n        {title && (\n          <h3 className=\"text-base sm:text-lg font-semibold tracking-tight m-0\">\n            {render(title, { inline: true })}\n          </h3>\n        )}\n        <div className=\"flex flex-col gap-2 sm:gap-3 animate-pulse\">\n          <div className=\"h-3 sm:h-4 bg-white/10 rounded w-3/4\" />\n          <div className=\"h-3 sm:h-4 bg-white/5 rounded w-1/2\" />\n          <div className=\"h-3 sm:h-4 bg-white/5 rounded w-2/3\" />\n        </div>\n        <p className=\"text-[0.625rem] sm:text-xs text-muted-foreground italic\">\n          Document content is loading or was not provided by the AI...\n        </p>\n      </motion.div>\n    );\n  }\n\n  return (\n    <motion.div\n      variants={containerVariants}\n      initial=\"hidden\"\n      animate=\"visible\"\n      className=\"flex flex-col gap-3 sm:gap-4\"\n    >\n      {title && (\n        <h3 className=\"text-base sm:text-lg font-semibold tracking-tight m-0\">\n          {render(title, { inline: true })}\n        </h3>\n      )}\n      <div className=\"flex flex-col gap-3 sm:gap-4\">\n        <AnimatePresence mode=\"popLayout\">\n          {documents.map((rawDoc, index) => {\n            const doc = {\n              ...rawDoc,\n              sections: rawDoc.sections?.length\n                ? rawDoc.sections\n                : rawDoc.content\n                  ? [{ title: \"Overview\", content: rawDoc.content }]\n                  : [],\n            };\n\n            return (\n              <motion.div\n                variants={itemVariants}\n                initial=\"hidden\"\n                animate=\"visible\"\n                exit=\"exit\"\n                key={doc.id ?? `${doc.title}-${index}`}\n                data-selectable-item\n                data-element-key={element.key}\n                data-item-id={doc.id ?? `${index}`}\n                className=\"flex flex-col gap-3 sm:gap-4 p-4 sm:p-5 rounded-lg sm:rounded-xl border border-white/10 card-glass shadow-lg hover:shadow-xl transition-shadow\"\n              >\n              {/* Header - stacks on mobile */}\n              <div className=\"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2 sm:gap-4\">\n                <div className=\"flex-1 space-y-1 min-w-0\">\n                  <div className=\"flex items-center gap-1.5 sm:gap-2\">\n                    <FileText className=\"w-4 h-4 sm:w-[1.125rem] sm:h-[1.125rem] text-primary/70 flex-shrink-0\" />\n                    <h4 className=\"text-sm sm:text-base font-semibold leading-tight text-foreground truncate\">\n                      {render(doc.title, { inline: true })}\n                    </h4>\n                  </div>\n                  {doc.summary && (\n                    <div className=\"text-xs sm:text-sm text-muted-foreground leading-relaxed line-clamp-2 sm:line-clamp-none\">\n                      {render(doc.summary)}\n                    </div>\n                  )}\n                </div>\n                {/* Metadata - inline on mobile */}\n                <div className=\"text-[0.625rem] sm:text-xs text-muted-foreground flex sm:flex-col items-center sm:items-end gap-2 sm:gap-1 flex-shrink-0\">\n                  {doc.author && (\n                    <div className=\"flex items-center gap-1 sm:gap-1.5\">\n                      <User className=\"w-2.5 h-2.5 sm:w-3 sm:h-3\" />\n                      <span>{doc.author}</span>\n                    </div>\n                  )}\n                  {doc.createdAt && (\n                    <div className=\"flex items-center gap-1 sm:gap-1.5 opacity-80\">\n                      <Calendar className=\"w-2.5 h-2.5 sm:w-3 sm:h-3\" />\n                      <span>{doc.createdAt}</span>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Sections */}\n              {doc.sections && doc.sections.length > 0 && (\n                <div className=\"flex flex-col gap-3 sm:gap-4 mt-1 sm:mt-2 pl-2 sm:pl-1 border-l-2 border-white/10 ml-1 sm:ml-2\">\n                  {doc.sections.map((section, sectionIndex) => (\n                    <div\n                      key={section.id ?? `${sectionIndex}`}\n                      className=\"pl-3 sm:pl-4\"\n                    >\n                      <h5 className=\"text-xs sm:text-sm font-semibold mb-1 text-foreground\">\n                        {render(section.title, { inline: true })}\n                      </h5>\n                      {section.content && (\n                        <div className=\"text-xs sm:text-sm text-muted-foreground leading-relaxed\">\n                          {render(section.content)}\n                        </div>\n                      )}\n                      {section.highlights && section.highlights.length > 0 && (\n                        <ul className=\"mt-1.5 sm:mt-2 list-disc list-outside pl-3 sm:pl-4 space-y-0.5 sm:space-y-1\">\n                          {section.highlights.map((item) => (\n                            <li\n                              key={item}\n                              className=\"text-[0.625rem] sm:text-xs text-muted-foreground/90\"\n                            >\n                              {render(item, { inline: true })}\n                            </li>\n                          ))}\n                        </ul>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              )}\n\n              {/* Tags */}\n              {doc.tags && doc.tags.length > 0 && (\n                <div className=\"flex flex-wrap gap-1.5 sm:gap-2 mt-0.5 sm:mt-1\">\n                  {doc.tags.map((tag) => (\n                    <span\n                      key={tag}\n                      className=\"px-2 sm:px-2.5 py-0.5 rounded-full bg-white/5 text-muted-foreground text-[0.5625rem] sm:text-[0.625rem] font-medium uppercase tracking-wide border border-white/10\"\n                    >\n                      {tag}\n                    </span>\n                  ))}\n                </div>\n              )}\n            </motion.div>\n            );\n          })}\n        </AnimatePresence>\n      </div>\n      {children}\n    </motion.div>\n  );\n});\n","\"use client\";\n\nimport { memo } from \"react\";\nimport { type ComponentRenderProps, useData } from \"@onegenui/react\";\nimport { motion } from \"framer-motion\";\nimport { resolveValueProp } from \"../../utils/data-utils\";\nimport { cn } from \"../../utils/cn\";\n\n/** Animation variants */\nconst badgeVariants = {\n  hidden: { scale: 0.9, opacity: 0 },\n  visible: { scale: 1, opacity: 1 },\n  hover: { scale: 1.05 },\n};\n\nconst DOT_CLASSES: Record<string, string> = {\n  default: \"bg-zinc-500\",\n  success: \"bg-emerald-400\",\n  warning: \"bg-amber-400\",\n  error: \"bg-rose-400\",\n  info: \"bg-sky-400\",\n};\n\nconst STATUS_CLASSES: Record<string, string> = {\n  default: \"status-neutral\",\n  success: \"status-success\",\n  warning: \"status-warning\",\n  error: \"status-error\",\n  info: \"status-info\",\n};\n\nexport const Badge = memo(function Badge({\n  element,\n  children,\n}: ComponentRenderProps) {\n  const { text, variant } = element.props as {\n    text?: string | { path: string } | null;\n    variant?: string | null;\n    size?: \"sm\" | \"md\" | \"lg\" | null;\n  };\n  const { data } = useData();\n  const resolvedText = resolveValueProp<string>(data, text ?? null);\n\n  const tone = (variant ?? \"default\") as\n    | \"default\"\n    | \"success\"\n    | \"warning\"\n    | \"error\"\n    | \"info\";\n\n  return (\n    <motion.span\n      variants={badgeVariants}\n      initial=\"hidden\"\n      animate=\"visible\"\n      whileHover=\"hover\"\n      className={cn(\n        \"inline-flex items-center gap-1 sm:gap-1.5 transition-all text-[0.5625rem] sm:text-[0.625rem]\",\n        STATUS_CLASSES[tone] || STATUS_CLASSES.default,\n      )}\n    >\n      <span\n        className={cn(\n          \"w-1 h-1 sm:w-1.5 sm:h-1.5 rounded-full flex-shrink-0\",\n          DOT_CLASSES[tone] || DOT_CLASSES.default,\n        )}\n      />\n      {resolvedText}\n      {children}\n    </motion.span>\n  );\n});\n","// Re-export from shared utils package\nexport {\n  resolveArrayProp,\n  resolveValueProp,\n  resolveString,\n} from \"@onegenui/utils\";\n","\"use client\";\n\nimport { memo, useState } from \"react\";\nimport { type ComponentRenderProps, useData } from \"@onegenui/react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { resolveValueProp } from \"../../utils/data-utils\";\nimport { cn } from \"../../utils/cn\";\nimport {\n  X,\n  Info,\n  CheckCircle2,\n  AlertTriangle,\n  AlertCircle,\n} from \"lucide-react\";\n\n/** Animation variants */\nconst alertVariants = {\n  hidden: { opacity: 0, height: 0, marginBottom: 0 },\n  visible: { opacity: 1, height: \"auto\", marginBottom: \"1rem\" },\n  exit: { opacity: 0, height: 0, marginBottom: 0 },\n};\n\nconst ICON_MAP = {\n  info: Info,\n  success: CheckCircle2,\n  warning: AlertTriangle,\n  error: AlertCircle,\n};\n\nconst TONE_CLASSES: Record<string, string> = {\n  info: \"bg-blue-500/10 border-blue-500/20 text-blue-500\",\n  success: \"bg-emerald-500/10 border-emerald-500/20 text-emerald-500\",\n  warning: \"bg-amber-500/10 border-amber-500/20 text-amber-500\",\n  error: \"bg-rose-500/10 border-rose-500/20 text-rose-500\",\n};\n\nexport const Alert = memo(function Alert({\n  element,\n  children,\n}: ComponentRenderProps) {\n  const { type, variant, title, message, dismissible } = element.props as {\n    type?: string | null;\n    variant?: string | null;\n    title?: string | null;\n    message?: string | { path: string } | null;\n    dismissible?: boolean | null;\n  };\n  const { data } = useData();\n  const resolvedMessage = resolveValueProp<string>(data, message ?? null);\n  const [dismissed, setDismissed] = useState(false);\n\n  const tone = (type ?? variant ?? \"info\") as\n    | \"info\"\n    | \"success\"\n    | \"warning\"\n    | \"error\";\n\n  const hasMessage = resolvedMessage !== undefined && resolvedMessage !== null;\n  const Icon = ICON_MAP[tone] || Info;\n\n  return (\n    <AnimatePresence>\n      {!dismissed && (\n        <motion.div\n          variants={alertVariants}\n          initial=\"hidden\"\n          animate=\"visible\"\n          exit=\"exit\"\n          transition={{ duration: 0.2 }}\n          className={cn(\n            \"relative w-full rounded-lg sm:rounded-xl border p-3 sm:p-4 text-xs sm:text-sm shadow-lg backdrop-blur-md overflow-hidden\",\n            TONE_CLASSES[tone] || TONE_CLASSES.info,\n          )}\n        >\n          <div className=\"flex gap-2 sm:gap-3\">\n            <Icon className=\"w-4 h-4 sm:w-5 sm:h-5 shrink-0 mt-0.5\" />\n\n            <div className=\"flex-1 space-y-0.5 sm:space-y-1 min-w-0\">\n              {title && (\n                <h5 className=\"font-semibold leading-tight tracking-tight text-xs sm:text-sm\">\n                  {title}\n                </h5>\n              )}\n              {hasMessage && (\n                <div className=\"text-xs sm:text-sm opacity-90 leading-relaxed\">\n                  {String(resolvedMessage)}\n                </div>\n              )}\n              {children}\n            </div>\n\n            {dismissible && (\n              <button\n                onClick={() => setDismissed(true)}\n                className={cn(\n                  \"absolute top-2 right-2 sm:top-3 sm:right-3 p-1 rounded-md opacity-70 hover:opacity-100 transition-opacity\",\n                  \"hover:bg-black/5 dark:hover:bg-white/10 min-h-[2rem] min-w-[2rem] flex items-center justify-center\",\n                )}\n                title=\"Dismiss\"\n              >\n                <X className=\"w-3.5 h-3.5 sm:w-4 sm:h-4\" />\n              </button>\n            )}\n          </div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n});\n","\"use client\";\n\nimport { memo } from \"react\";\nimport { type ComponentRenderProps } from \"@onegenui/react\";\nimport { motion } from \"framer-motion\";\nimport type { Action } from \"@onegenui/core\";\nimport { cn } from \"../../utils/cn\";\n\nexport const Empty = memo(function Empty({\n  element,\n  onAction,\n  children,\n}: ComponentRenderProps) {\n  const { title, description, action, actionLabel } = element.props as {\n    title: string;\n    description?: string | null;\n    action?: string | Action | null;\n    actionLabel?: string | null;\n  };\n\n  const resolvedAction: Action | undefined =\n    typeof action === \"string\" ? { name: action } : (action ?? undefined);\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, scale: 0.95 }}\n      animate={{ opacity: 1, scale: 1 }}\n      className=\"flex flex-col items-center justify-center p-10 text-center\"\n    >\n      <h3 className=\"mb-2 text-base font-semibold tracking-tight text-foreground\">\n        {title}\n      </h3>\n      {description && (\n        <p className=\"m-0 text-sm text-muted-foreground\">{description}</p>\n      )}\n      {resolvedAction && actionLabel && (\n        <button\n          onClick={() => onAction?.(resolvedAction)}\n          className={cn(\"mt-4 btn-secondary\")}\n        >\n          {actionLabel}\n        </button>\n      )}\n      {children}\n    </motion.div>\n  );\n});\n","\"use client\";\n\nimport { memo } from \"react\";\nimport { type ComponentRenderProps } from \"@onegenui/react\";\nimport { motion } from \"framer-motion\";\nimport { cn } from \"../../utils/cn\";\nimport type { BrowserActionProps } from \"./schema\";\n\n// Action icons and labels\nconst actionConfig: Record<\n  string,\n  { icon: string; label: string; color: string }\n> = {\n  navigating: { icon: \"üåê\", label: \"Navigating\", color: \"#3b82f6\" },\n  searching: { icon: \"üîç\", label: \"Searching\", color: \"#8b5cf6\" },\n  extracting: { icon: \"üìÑ\", label: \"Extracting\", color: \"#10b981\" },\n  clicking: { icon: \"üëÜ\", label: \"Clicking\", color: \"#f59e0b\" },\n  typing: { icon: \"‚å®Ô∏è\", label: \"Typing\", color: \"#6366f1\" },\n  waiting: { icon: \"‚è≥\", label: \"Waiting\", color: \"#6b7280\" },\n  capturing: { icon: \"üì∏\", label: \"Capturing\", color: \"#ec4899\" },\n};\n\nconst statusConfig: Record<string, { icon: string; animation?: string }> = {\n  pending: { icon: \"‚óã\" },\n  loading: { icon: \"‚óå\", animation: \"spin 1s linear infinite\" },\n  complete: { icon: \"‚úì\" },\n  error: { icon: \"‚úï\" },\n};\n\nexport const BrowserAction = memo(function BrowserAction({\n  element,\n  children,\n}: ComponentRenderProps) {\n  const { action, target, url, status, message, error } =\n    element.props as BrowserActionProps;\n\n  const actionInfo =\n    actionConfig[action ?? \"navigating\"] ?? actionConfig.navigating;\n  const statusInfo = statusConfig[status ?? \"loading\"] ?? statusConfig.loading;\n\n  const displayText = target || url || message || \"\";\n  const isError = status === \"error\";\n  const isComplete = status === \"complete\";\n  const isLoading = status === \"loading\";\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 5 }}\n      animate={{ opacity: 1, y: 0 }}\n      className={cn(\n        \"flex items-center gap-3 px-3.5 py-2.5 rounded-lg text-sm transition-opacity duration-300 border backdrop-blur-md\",\n        isError\n          ? \"bg-red-500/10 border-red-500/30 text-foreground\"\n          : \"glass-surface text-foreground\",\n        isComplete ? \"opacity-70\" : \"opacity-100\",\n      )}\n    >\n      {/* Action Icon */}\n      <span className=\"text-base\">{actionInfo!.icon}</span>\n\n      {/* Action Label */}\n      <span\n        className=\"font-medium min-w-20 text-[var(--action-color)]\"\n        // Using CSS variable for dynamic action color to avoid inline style for color directly\n        style={\n          {\n            \"--action-color\": actionInfo!.color,\n          } as React.CSSProperties\n        }\n      >\n        {actionInfo!.label}\n      </span>\n\n      {/* Target/URL */}\n      <span className=\"flex-1 overflow-hidden text-ellipsis whitespace-nowrap text-muted-foreground\">\n        {displayText}\n      </span>\n\n      {/* Error message */}\n      {isError && error && (\n        <span className=\"text-destructive text-xs\">{error}</span>\n      )}\n\n      {/* Status Icon */}\n      <span\n        className={cn(\n          \"text-sm flex items-center justify-center\",\n          isError\n            ? \"text-destructive\"\n            : isComplete\n              ? \"text-green-500\"\n              : \"text-muted-foreground\",\n          // Map the animation string roughly to classes or keep it simple\n          isLoading && \"animate-spin\",\n        )}\n      >\n        {statusInfo!.icon}\n      </span>\n      {children}\n    </motion.div>\n  );\n});\n","\"use client\";\n\nimport React, { memo } from \"react\";\nimport { type ComponentRenderProps } from \"@onegenui/react\";\nimport { motion } from \"framer-motion\";\nimport type { Action } from \"@onegenui/core\";\nimport { cn } from \"../../utils/cn\";\n\n/** Animation variants with reduced-motion support */\nconst buttonVariants = {\n  tap: { scale: 0.95 },\n  hover: { scale: 1.03 },\n};\n\n/** Mobile-first responsive size classes */\nconst SIZE_CLASSES: Record<string, string> = {\n  sm: \"min-h-[2.25rem] sm:h-8 px-2.5 sm:px-3 text-[0.625rem]\",\n  md: \"min-h-[2.75rem] sm:h-9 px-3 sm:px-4 text-xs sm:text-sm\",\n  lg: \"min-h-[3rem] sm:h-11 px-4 sm:px-8 text-sm\",\n};\n\nexport const Button = memo(function Button({\n  element,\n  onAction,\n  loading,\n  children,\n}: ComponentRenderProps) {\n  const { \n    label, \n    variant, \n    size, \n    action, \n    actionParams, \n    disabled,\n    ariaLabel,\n    ariaDescribedBy,\n  } = element.props as {\n    label?: string | null;\n    variant?: \"primary\" | \"secondary\" | \"danger\" | \"ghost\" | null;\n    size?: \"sm\" | \"md\" | \"lg\" | null;\n    action?: string | Action | null;\n    actionParams?: Record<string, unknown> | null;\n    disabled?: boolean | null;\n    ariaLabel?: string | null;\n    ariaDescribedBy?: string | null;\n  };\n\n  const resolvedAction: Action | undefined =\n    typeof action === \"string\"\n      ? { name: action, params: actionParams ?? undefined }\n      : (action ?? undefined);\n\n  // Use ariaLabel if provided, otherwise use label for accessibility\n  const accessibleLabel = ariaLabel || label || undefined;\n\n  return (\n    <motion.button\n      variants={buttonVariants}\n      whileTap=\"tap\"\n      whileHover=\"hover\"\n      onClick={() => !disabled && resolvedAction && onAction?.(resolvedAction)}\n      disabled={!!disabled || loading}\n      aria-label={accessibleLabel}\n      aria-describedby={ariaDescribedBy ?? undefined}\n      aria-busy={loading || undefined}\n      aria-disabled={!!disabled || loading || undefined}\n      className={cn(\n        \"relative inline-flex items-center justify-center transition-all\",\n        \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n        \"disabled:pointer-events-none disabled:opacity-50 overflow-hidden\",\n        \"active:scale-95 touch-manipulation\",\n        // Reduced motion support\n        \"motion-reduce:transition-none motion-reduce:transform-none\",\n        variant === \"primary\" || !variant\n          ? \"btn-primary\"\n          : variant === \"secondary\"\n            ? \"btn-secondary\"\n            : variant === \"danger\"\n              ? \"btn-accent bg-destructive hover:bg-destructive/90 shadow-destructive/20\"\n              : variant === \"ghost\"\n                ? \"btn-ghost\"\n                : \"\",\n        SIZE_CLASSES[size || \"md\"],\n      )}\n    >\n      {variant === \"primary\" && (\n        <div \n          className=\"absolute inset-0 -translate-x-full group-hover:translate-x-full bg-gradient-to-r from-transparent via-white/20 to-transparent transition-transform duration-1000 motion-reduce:hidden\" \n          aria-hidden=\"true\"\n        />\n      )}\n\n      {loading ? (\n        <span \n          className=\"mr-1.5 sm:mr-2 animate-spin text-[0.625rem] sm:text-xs motion-reduce:animate-none\"\n          aria-hidden=\"true\"\n        >\n          ‚è≥\n        </span>\n      ) : null}\n      {loading ? \"Loading...\" : label}\n      {!loading && children}\n    </motion.button>\n  );\n});\n","\"use client\";\n\nimport { memo, useId } from \"react\";\nimport {\n  type ComponentRenderProps,\n  useData,\n  useFieldValidation,\n} from \"@onegenui/react\";\nimport { motion } from \"framer-motion\";\nimport { resolveValueProp } from \"../../utils/data-utils\";\nimport { cn } from \"../../utils/cn\";\n\n/** Animation variants with reduced-motion support */\nconst fieldVariants = {\n  hidden: { opacity: 0, y: \"0.3125rem\" },\n  visible: { opacity: 1, y: 0 },\n};\n\nexport const TextField = memo(function TextField({\n  element,\n  children,\n}: ComponentRenderProps) {\n  const {\n    label,\n    bindPath,\n    valuePath,\n    value,\n    placeholder,\n    type,\n    checks,\n    validateOn,\n    required,\n    ariaLabel,\n  } = element.props as {\n    label?: string | null;\n    bindPath?: string | null;\n    valuePath?: string | null;\n    value?: string | null;\n    placeholder?: string | null;\n    type?: string | null;\n    checks?: Array<{ fn: string; message: string }> | null;\n    validateOn?: string | null;\n    required?: boolean | null;\n    ariaLabel?: string | null;\n  };\n\n  const { data, set } = useData();\n  const resolvedPath = bindPath ?? valuePath ?? null;\n  const resolvedValue = resolveValueProp<string>(\n    data,\n    value ?? null,\n    resolvedPath,\n  );\n  const shouldValidate = Boolean(resolvedPath);\n  const { errors, validate, touch } = useFieldValidation(\n    resolvedPath ?? \"__unbound__\",\n    {\n      checks: shouldValidate ? (checks ?? undefined) : undefined,\n      validateOn: (validateOn as \"change\" | \"blur\" | \"submit\") ?? \"blur\",\n    },\n  );\n\n  // Generate unique IDs for accessibility\n  const inputId = useId();\n  const errorId = useId();\n  const hasErrors = errors.length > 0;\n\n  return (\n    <motion.div\n      variants={fieldVariants}\n      initial=\"hidden\"\n      animate=\"visible\"\n      transition={{ duration: 0.2 }}\n      className=\"flex flex-col gap-1.5 sm:gap-2 w-full group motion-reduce:transition-none\"\n    >\n      {label && (\n        <label \n          htmlFor={inputId}\n          className=\"text-label text-[0.5625rem] sm:text-[0.625rem] group-focus-within:text-primary transition-colors duration-300\"\n        >\n          {label}\n          {required && <span className=\"text-destructive ml-0.5\" aria-hidden=\"true\">*</span>}\n        </label>\n      )}\n      <div className=\"relative\">\n        <input\n          id={inputId}\n          type={type || \"text\"}\n          value={resolvedValue ?? \"\"}\n          onChange={(e) => {\n            if (!resolvedPath) return;\n            set(resolvedPath, e.target.value);\n            if (shouldValidate && validateOn === \"change\") validate();\n          }}\n          onBlur={() => {\n            if (!resolvedPath) return;\n            if (!shouldValidate) return;\n            touch();\n            if (validateOn === \"blur\" || !validateOn) validate();\n          }}\n          placeholder={placeholder ?? \"\"}\n          required={required ?? undefined}\n          aria-label={ariaLabel ?? undefined}\n          aria-invalid={hasErrors || undefined}\n          aria-describedby={hasErrors ? errorId : undefined}\n          aria-required={required ?? undefined}\n          className={cn(\n            \"glass-surface flex min-h-[2.75rem] sm:h-10 w-full rounded-lg px-3 py-2 text-xs sm:text-sm text-foreground shadow-sm transition-all duration-300\",\n            \"hover:border-white/20 hover:bg-white/10\",\n            \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/50 focus-visible:border-primary/50\",\n            \"placeholder:text-muted-foreground touch-manipulation\",\n            \"motion-reduce:transition-none\",\n            hasErrors\n              ? \"border-destructive/50 focus-visible:ring-destructive/50 text-destructive\"\n              : \"\",\n          )}\n        />\n        <div \n          className=\"absolute top-0 right-0 p-1 opacity-0 group-focus-within:opacity-100 transition-opacity pointer-events-none\"\n          aria-hidden=\"true\"\n        >\n          <div className=\"w-1 h-1 sm:w-1.5 sm:h-1.5 border-t border-r border-primary rounded-tr-sm\" />\n        </div>\n      </div>\n\n      {hasErrors && (\n        <div id={errorId} role=\"alert\" aria-live=\"polite\">\n          {errors.map((error, i) => (\n            <span\n              key={i}\n              className=\"text-[0.5625rem] sm:text-[0.625rem] font-mono font-bold text-destructive flex items-center gap-1 sm:gap-1.5\"\n            >\n              <span className=\"w-1 h-1 bg-destructive rounded-full flex-shrink-0\" aria-hidden=\"true\" />{\" \"}\n              {error}\n            </span>\n          ))}\n        </div>\n      )}\n      {children}\n    </motion.div>\n  );\n});\n","\"use client\";\n\nimport { memo } from \"react\";\nimport { type ComponentRenderProps, useData } from \"@onegenui/react\";\nimport { motion } from \"framer-motion\";\nimport { cn } from \"../../utils/cn\";\nimport { resolveValueProp } from \"../../utils/data-utils\";\n\n/** Animation variants */\nconst selectVariants = {\n  hidden: { opacity: 0, y: \"0.3125rem\" },\n  visible: { opacity: 1, y: 0 },\n};\n\nexport const Select = memo(function Select({\n  element,\n  children,\n}: ComponentRenderProps) {\n  const { label, bindPath, valuePath, value, options, placeholder } =\n    element.props as {\n      label?: string | null;\n      bindPath?: string | null;\n      valuePath?: string | null;\n      value?: string | null;\n      options: Array<{ value: string; label: string }>;\n      placeholder?: string | null;\n    };\n\n  const { data, set } = useData();\n  const resolvedPath = bindPath ?? valuePath ?? null;\n  const resolvedValue = resolveValueProp<string>(\n    data,\n    value ?? null,\n    resolvedPath,\n  );\n\n  return (\n    <motion.div\n      variants={selectVariants}\n      initial=\"hidden\"\n      animate=\"visible\"\n      transition={{ duration: 0.2 }}\n      className=\"flex flex-col gap-1 sm:gap-1.5 w-full\"\n    >\n      {label && (\n        <label className=\"text-label text-[0.5625rem] sm:text-[0.625rem]\">\n          {label}\n        </label>\n      )}\n      <select\n        value={resolvedValue ?? \"\"}\n        onChange={(e) => resolvedPath && set(resolvedPath, e.target.value)}\n        className={cn(\n          \"glass-surface flex w-full items-center justify-between rounded-lg px-3 py-2 text-xs sm:text-sm text-foreground placeholder:text-muted-foreground\",\n          \"min-h-[2.75rem] sm:h-10\",\n          \"focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50\",\n          \"disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200 appearance-none touch-manipulation\",\n          !resolvedValue && \"text-muted-foreground\",\n        )}\n      >\n        {placeholder && (\n          <option value=\"\" disabled>\n            {placeholder}\n          </option>\n        )}\n        {options.map((opt) => (\n          <option\n            key={opt.value}\n            value={opt.value}\n            className=\"bg-card text-foreground\"\n          >\n            {opt.label}\n          </option>\n        ))}\n      </select>\n      {children}\n    </motion.div>\n  );\n});\n","\"use client\";\n\nimport { memo } from \"react\";\nimport { type ComponentRenderProps, useData } from \"@onegenui/react\";\nimport { motion } from \"framer-motion\";\nimport { cn } from \"../../utils/cn\";\nimport { resolveValueProp } from \"../../utils/data-utils\";\n\n/** Animation variants */\nconst dateVariants = {\n  hidden: { opacity: 0, y: \"0.3125rem\" },\n  visible: { opacity: 1, y: 0 },\n};\n\nexport const DatePicker = memo(function DatePicker({\n  element,\n  children,\n}: ComponentRenderProps) {\n  const { label, bindPath, valuePath, value, placeholder } = element.props as {\n    label?: string | null;\n    bindPath?: string | null;\n    valuePath?: string | null;\n    value?: string | null;\n    placeholder?: string | null;\n  };\n  const { data, set } = useData();\n  const resolvedPath = bindPath ?? valuePath ?? null;\n  const resolvedValue = resolveValueProp<string>(\n    data,\n    value ?? null,\n    resolvedPath,\n  );\n\n  return (\n    <motion.div\n      variants={dateVariants}\n      initial=\"hidden\"\n      animate=\"visible\"\n      transition={{ duration: 0.2 }}\n      className=\"flex flex-col gap-1 sm:gap-1.5 w-full\"\n    >\n      {label && (\n        <label className=\"text-label text-[0.5625rem] sm:text-[0.625rem]\">\n          {label}\n        </label>\n      )}\n      <input\n        type=\"date\"\n        value={resolvedValue ?? \"\"}\n        placeholder={placeholder ?? \"\"}\n        onChange={(e) => resolvedPath && set(resolvedPath, e.target.value)}\n        className={cn(\n          \"glass-surface flex min-h-[2.75rem] sm:h-10 w-full rounded-lg px-3 py-2 text-xs sm:text-sm text-foreground placeholder:text-muted-foreground\",\n          \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/50 focus-visible:border-primary/50\",\n          \"disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200 touch-manipulation\",\n        )}\n      />\n      {children}\n    </motion.div>\n  );\n});\n","\"use client\";\n\nimport { memo } from \"react\";\nimport { type ComponentRenderProps, useData } from \"@onegenui/react\";\nimport { motion } from \"framer-motion\";\nimport { resolveValueProp } from \"../../utils/data-utils\";\nimport { cn } from \"../../utils/cn\";\n\n/** Animation variants */\nconst metricVariants = {\n  hidden: { opacity: 0, scale: 0.95 },\n  visible: { opacity: 1, scale: 1 },\n};\n\nexport const Metric = memo(function Metric({\n  element,\n  children,\n}: ComponentRenderProps) {\n  const { label, value, valuePath, format, trend, trendValue } =\n    element.props as {\n      label: string;\n      value?: string | number | null;\n      valuePath?: string | null;\n      format?: string | null;\n      trend?: \"up\" | \"down\" | \"neutral\" | null;\n      trendValue?: string | null;\n    };\n\n  const { data } = useData();\n  const rawValue = resolveValueProp<string | number>(data, value, valuePath);\n\n  let displayValue = String(rawValue ?? \"-\");\n  if (format === \"currency\" && typeof rawValue === \"number\") {\n    displayValue = new Intl.NumberFormat(\"en-US\", {\n      style: \"currency\",\n      currency: \"USD\",\n    }).format(rawValue);\n  } else if (format === \"percent\" && typeof rawValue === \"number\") {\n    displayValue = new Intl.NumberFormat(\"en-US\", {\n      style: \"percent\",\n      minimumFractionDigits: 1,\n    }).format(rawValue);\n  } else if (format === \"number\" && typeof rawValue === \"number\") {\n    displayValue = new Intl.NumberFormat(\"en-US\").format(rawValue);\n  }\n\n  return (\n    <motion.div\n      variants={metricVariants}\n      initial=\"hidden\"\n      animate=\"visible\"\n      transition={{ duration: 0.2 }}\n      className=\"flex flex-col gap-0.5 sm:gap-1 w-full min-w-0\"\n    >\n      <span className=\"text-label text-[0.5625rem] sm:text-[0.625rem]\">\n        {label}\n      </span>\n      <span className=\"text-display text-xl sm:text-2xl\">{displayValue}</span>\n      {(trend || trendValue) && (\n        <span\n          className={cn(\n            \"text-[0.625rem] sm:text-xs font-medium flex items-center gap-1\",\n            trend === \"up\"\n              ? \"text-emerald-400\"\n              : trend === \"down\"\n                ? \"text-rose-400\"\n                : \"text-muted-foreground\",\n          )}\n        >\n          {trend === \"up\" ? \"+\" : trend === \"down\" ? \"-\" : \"\"}\n          {trendValue}\n        </span>\n      )}\n      {children}\n    </motion.div>\n  );\n});\n","\"use client\";\n\nimport { memo } from \"react\";\nimport { type ComponentRenderProps, useData } from \"@onegenui/react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { resolveArrayProp } from \"../../utils/data-utils\";\nimport { cn } from \"../../utils/cn\";\nimport { Table as TableIcon } from \"lucide-react\";\n\ntype TableRow = Record<string, unknown> & {\n  id?: string | null;\n  subRows?: TableRow[] | null;\n};\n\n/** Animation variants */\nconst containerVariants = {\n  hidden: { opacity: 0 },\n  visible: { opacity: 1, transition: { staggerChildren: 0.02 } },\n};\n\nconst rowVariants = {\n  hidden: { opacity: 0 },\n  visible: { opacity: 1 },\n  exit: { opacity: 0 },\n};\n\nexport const Table = memo(function Table({\n  element,\n  children,\n}: ComponentRenderProps) {\n  const {\n    title,\n    rows,\n    dataPath,\n    columns: rawColumns,\n  } = element.props as {\n    title?: string | null;\n    rows?: TableRow[] | null;\n    dataPath?: string | null;\n    columns: Array<{\n      key?: string;\n      label?: string;\n      accessor?: string;\n      header?: string;\n      format?: string | null;\n    }>;\n  };\n\n  const columns = rawColumns.map((col) => ({\n    key: col.key ?? col.accessor ?? \"\",\n    label: col.label ?? col.header ?? \"\",\n    format: col.format,\n  }));\n\n  const { data } = useData();\n  const tableRows = resolveArrayProp<TableRow>(data, rows, dataPath);\n\n  if (!tableRows || tableRows.length === 0) {\n    return (\n      <div className=\"w-full\">\n        {title && (\n          <h4 className=\"mb-3 sm:mb-4 text-xs sm:text-sm font-semibold leading-none tracking-tight\">\n            {title}\n          </h4>\n        )}\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          className=\"py-8 sm:py-12 flex flex-col items-center justify-center border border-dashed border-white/10 rounded-lg sm:rounded-2xl bg-zinc-900/20 text-muted-foreground\"\n        >\n          <TableIcon className=\"w-8 h-8 sm:w-10 sm:h-10 opacity-20 mb-2 sm:mb-3\" />\n          <p className=\"font-mono text-[0.625rem] sm:text-xs uppercase tracking-widest opacity-50\">\n            No data available\n          </p>\n        </motion.div>\n        {children}\n      </div>\n    );\n  }\n\n  const formatCell = (value: unknown, format?: string | null) => {\n    if (value === null || value === undefined) return \"-\";\n    if (format === \"currency\" && typeof value === \"number\") {\n      return new Intl.NumberFormat(\"en-US\", {\n        style: \"currency\",\n        currency: \"USD\",\n      }).format(value);\n    }\n    if (format === \"date\" && typeof value === \"string\") {\n      return new Date(value).toLocaleDateString();\n    }\n    if (format === \"badge\") {\n      return (\n        <span className=\"inline-flex items-center rounded-full border px-2 sm:px-2.5 py-0.5 text-[0.625rem] sm:text-xs font-semibold transition-colors border-transparent bg-secondary text-secondary-foreground\">\n          {String(value)}\n        </span>\n      );\n    }\n    return String(value);\n  };\n\n  const renderRows = (rowsToRender: TableRow[], depth = 0): React.ReactNode[] =>\n    rowsToRender.flatMap((row, index) => {\n      const rowKey = typeof row.id === \"string\" ? row.id : `${depth}-${index}`;\n      const subRows = Array.isArray(row.subRows) ? row.subRows : [];\n\n      const renderedRow = (\n        <motion.tr\n          key={rowKey}\n          variants={rowVariants}\n          initial=\"hidden\"\n          animate=\"visible\"\n          exit=\"exit\"\n          data-selectable-item\n          data-element-key={element.key}\n          data-item-id={rowKey}\n          className=\"border-b border-white/5 transition-colors hover:bg-white/5 data-[state=selected]:bg-white/10\"\n        >\n          {columns.map((col, colIndex) => (\n            <td\n              key={col.key}\n              className={cn(\n                \"p-2.5 sm:p-4 align-middle text-xs sm:text-sm text-foreground\",\n                \"[&:has([role=checkbox])]:pr-0\",\n              )}\n              style={\n                colIndex === 0 && depth > 0\n                  ? { paddingLeft: `${0.75 + depth}rem` }\n                  : undefined\n              }\n            >\n              {formatCell(row[col.key], col.format)}\n            </td>\n          ))}\n        </motion.tr>\n      );\n      return [renderedRow, ...renderRows(subRows, depth + 1)];\n    });\n\n  return (\n    <div className=\"w-full\">\n      {title && (\n        <h4 className=\"mb-3 sm:mb-4 text-xs sm:text-sm font-semibold leading-none tracking-tight text-foreground\">\n          {title}\n        </h4>\n      )}\n      {/* Mobile: horizontal scroll wrapper */}\n      <div className=\"relative w-full overflow-x-auto rounded-lg sm:rounded-xl border border-white/10 bg-black/20 backdrop-blur-sm -mx-1 px-1 sm:mx-0 sm:px-0\">\n        <motion.table\n          variants={containerVariants}\n          initial=\"hidden\"\n          animate=\"visible\"\n          className=\"w-full min-w-[20rem] caption-bottom text-xs sm:text-sm border-collapse\"\n        >\n          <thead className=\"[&_tr]:border-b border-white/10\">\n            <tr className=\"border-b border-white/10 transition-colors\">\n              {columns.map((col, index) => (\n                <th\n                  key={col.key ?? `col-${index}`}\n                  className=\"h-10 sm:h-12 px-2.5 sm:px-4 text-left align-middle font-medium text-muted-foreground text-[0.625rem] sm:text-xs uppercase tracking-wider\"\n                >\n                  {col.label}\n                </th>\n              ))}\n            </tr>\n          </thead>\n          <tbody className=\"[&_tr:last-child]:border-0\">\n            <AnimatePresence mode=\"popLayout\">\n              {renderRows(tableRows)}\n            </AnimatePresence>\n          </tbody>\n        </motion.table>\n      </div>\n      {children}\n    </div>\n  );\n});\n","import { memo } from \"react\";\nimport { type ComponentRenderProps, useData } from \"@onegenui/react\";\nimport { motion } from \"framer-motion\";\nimport { cn } from \"../../utils/cn\";\nimport { List as ListIcon } from \"lucide-react\";\nimport { resolveArrayProp } from \"../../utils/data-utils\";\n\ntype ListItem = {\n  id?: string | null;\n  text?: string;\n  description?: string | null;\n  status?: string | null;\n  subItems?: ListItem[] | null;\n  // Alternative naming convention from AI\n  primary?: string;\n  secondary?: string | null;\n};\n\nexport const List = memo(function List({\n  element,\n  children,\n}: ComponentRenderProps) {\n  const { items, dataPath, emptyMessage } = element.props as {\n    items?: Array<ListItem | string> | null;\n    dataPath?: string | null;\n    emptyMessage?: string | null;\n  };\n  const { data } = useData();\n  const listData = resolveArrayProp<ListItem | string>(data, items, dataPath);\n\n  if ((!listData || listData.length === 0) && !children) {\n    return (\n      <div className=\"py-12 flex flex-col items-center justify-center border border-dashed border-white/10 rounded-2xl bg-zinc-900/20 text-muted-foreground\">\n        <ListIcon className=\"w-10 h-10 opacity-20 mb-3\" />\n        <p className=\"font-mono text-xs uppercase tracking-widest opacity-50\">\n          {emptyMessage ?? \"No items\"}\n        </p>\n      </div>\n    );\n  }\n\n  const renderItems = (itemsToRender: Array<ListItem | string>, depth = 0) => (\n    <div className=\"flex flex-col gap-2\">\n      {itemsToRender.map((item, index) => {\n        const raw =\n          typeof item === \"string\" ? { text: item } : (item as ListItem);\n        // Normalize: support both text/description and primary/secondary\n        const normalized = {\n          id: raw.id,\n          text: raw.text ?? raw.primary ?? \"\",\n          description: raw.description ?? raw.secondary ?? null,\n          status: raw.status,\n          subItems: raw.subItems,\n        };\n        const itemId = normalized.id ?? `item-${depth}-${index}`;\n        const subItems = Array.isArray(normalized.subItems)\n          ? normalized.subItems\n          : [];\n\n        return (\n          <motion.div\n            key={itemId}\n            className=\"flex flex-col\"\n            initial={{ opacity: 0, x: -10 }}\n            animate={{ opacity: 1, x: 0 }}\n            transition={{ delay: index * 0.05 }}\n          >\n            <div\n              data-selectable-item\n              data-element-key={element.key}\n              data-item-id={itemId}\n              className={cn(\n                \"flex items-center gap-2 px-3 py-2 rounded-lg\",\n                \"bg-white/5 border border-white/10\",\n                \"transition-colors hover:border-white/20 hover:bg-white/10\",\n              )}\n              style={\n                {\n                  marginLeft: `${depth * 16}px`,\n                } as React.CSSProperties\n              }\n            >\n              <div className=\"w-2 h-2 rounded-full bg-foreground/60 shrink-0\" />\n              <div className=\"flex-1 min-w-0\">\n                <div className=\"text-sm font-medium truncate text-foreground\">\n                  {normalized.text}\n                </div>\n                {normalized.description && (\n                  <div className=\"text-xs text-muted-foreground truncate\">\n                    {normalized.description}\n                  </div>\n                )}\n              </div>\n              {normalized.status && (\n                <span className=\"text-xs text-muted-foreground shrink-0\">\n                  {normalized.status}\n                </span>\n              )}\n            </div>\n            {subItems.length > 0 && renderItems(subItems, depth + 1)}\n          </motion.div>\n        );\n      })}\n    </div>\n  );\n\n  return (\n    <div>\n      {listData && listData.length > 0 && renderItems(listData)}\n      {children}\n    </div>\n  );\n});\n","import { memo } from \"react\";\nimport { type ComponentRenderProps, useData } from \"@onegenui/react\";\nimport { motion } from \"framer-motion\";\nimport { resolveArrayProp, resolveString } from \"../../utils/data-utils\";\nimport { cn } from \"../../utils/cn\";\nimport { GitCommitVertical } from \"lucide-react\";\n\ntype TimelineItem = {\n  id?: string | null;\n  title?: string;\n  date?: string;\n  description?: string | null;\n  status?: string | null;\n  subItems?: TimelineItem[] | null;\n  [key: string]: unknown;\n};\n\nexport const Timeline = memo(function Timeline({\n  element,\n  children,\n}: ComponentRenderProps) {\n  const { dataPath, items, titleKey, dateKey, descriptionKey, statusKey } =\n    element.props as {\n      dataPath?: string | null;\n      items?: TimelineItem[] | null;\n      titleKey?: string | null;\n      dateKey?: string | null;\n      descriptionKey?: string | null;\n      statusKey?: string | null;\n    };\n\n  const { data } = useData();\n\n  const timelineData = resolveArrayProp<TimelineItem>(data, items, dataPath);\n\n  if (!timelineData || timelineData.length === 0) {\n    return (\n      <div className=\"py-12 flex flex-col items-center justify-center border border-dashed border-white/10 rounded-2xl bg-zinc-900/20 text-muted-foreground\">\n        <GitCommitVertical className=\"w-10 h-10 opacity-20 mb-3\" />\n        <p className=\"font-mono text-xs uppercase tracking-widest opacity-50\">\n          No timeline data\n        </p>\n      </div>\n    );\n  }\n\n  const renderItems = (itemsToRender: TimelineItem[], depth = 0) => (\n    <div className={cn(depth === 0 ? \"py-4\" : \"py-2\")}>\n      {itemsToRender.map((item, index) => {\n        const titleValue = titleKey ? item[titleKey] : item.title;\n        const dateValue = dateKey ? item[dateKey] : item.date;\n        const descriptionValue = descriptionKey\n          ? item[descriptionKey]\n          : item.description;\n        const statusValue = statusKey ? item[statusKey] : item.status;\n\n        const titleText = resolveString(titleValue);\n        const dateText = resolveString(dateValue);\n        const descriptionText = resolveString(descriptionValue);\n        const statusText = resolveString(statusValue);\n        const isCompleted = statusText === \"completed\" || statusText === \"done\";\n        const subItems = Array.isArray(item.subItems) ? item.subItems : [];\n\n        const itemId = item.id || `item-${depth}-${index}`;\n\n        return (\n          <motion.div\n            key={itemId}\n            initial={{ opacity: 0, x: -10 }}\n            animate={{ opacity: 1, x: 0 }}\n            transition={{ delay: index * 0.1 }}\n            data-selectable-item\n            data-element-key={element.key}\n            data-item-id={itemId}\n            className={cn(\n              \"flex gap-4 mb-6 relative p-2 rounded-lg transition-all\",\n              \"cursor-pointer hover:bg-white/5\",\n            )}\n            style={\n              {\n                marginLeft: `${depth * 16}px`,\n              } as React.CSSProperties\n            }\n          >\n            {index !== itemsToRender.length - 1 && depth === 0 && (\n              <div className=\"absolute left-[22px] top-8 -bottom-4 w-[2px] bg-white/10\" />\n            )}\n\n            <div\n              className={cn(\n                \"w-3.5 h-3.5 rounded-full border-2 border-background ring-1 ring-white/10 mt-1.5 shrink-0 z-10\",\n                isCompleted ? \"bg-primary\" : \"bg-zinc-700\",\n              )}\n            />\n\n            <div className=\"flex-1 min-w-0\">\n              <div className=\"flex justify-between items-start mb-1 gap-2\">\n                {titleText && (\n                  <div className=\"font-semibold text-sm text-foreground\">\n                    {titleText}\n                  </div>\n                )}\n                {dateText && (\n                  <div className=\"text-xs text-muted-foreground whitespace-nowrap\">\n                    {dateText}\n                  </div>\n                )}\n              </div>\n\n              {descriptionText && (\n                <div className=\"text-sm text-muted-foreground\">\n                  {descriptionText}\n                </div>\n              )}\n\n              {statusText && (\n                <div className=\"mt-2\">\n                  <span className=\"text-[10px] uppercase tracking-wider px-1.5 py-0.5 rounded bg-white/10 font-medium text-muted-foreground\">\n                    {statusText}\n                  </span>\n                </div>\n              )}\n\n              {subItems.length > 0 && renderItems(subItems, depth + 1)}\n            </div>\n          </motion.div>\n        );\n      })}\n    </div>\n  );\n\n  return (\n    <div className=\"w-full min-w-0 max-w-full\">\n      {renderItems(timelineData)}\n      {children}\n    </div>\n  );\n});\n","import { memo, useState } from \"react\";\nimport { type ComponentRenderProps } from \"@onegenui/react\";\nimport type { SearchResultsProps } from \"./schema\";\nimport { Globe, Sparkles } from \"lucide-react\";\nimport {\n  SynthesisSection,\n  MediaGallery,\n  SourcesSidebar,\n  RichResultCard,\n  type MediaItem,\n} from \"./components\";\n\nexport const SearchResults = memo(function SearchResults({\n  element,\n  children,\n}: ComponentRenderProps) {\n  const { query, results, totalResults, searchTime, sources, synthesis } =\n    element.props as SearchResultsProps;\n  const [sourcesExpanded, setSourcesExpanded] = useState(false);\n\n  const resultCount = results?.length ?? 0;\n  const hasSources = sources && sources.length > 0;\n  const hasSynthesis = synthesis && synthesis.summary;\n  // Extract images/videos for gallery - show more media\n  const carouselMedia: MediaItem[] =\n    results\n      ?.filter((r) => r.image || r.video)\n      .slice(0, 10)\n      .map((r) => {\n        if (r.video) {\n          return {\n            type: \"video\" as const,\n            url: r.video.url,\n            thumbnail: r.video.thumbnail || undefined,\n            title: r.title,\n            source: r.source || undefined,\n            provider: r.video.provider || undefined,\n            duration: r.video.duration || undefined,\n          };\n        }\n        return {\n          type: \"image\" as const,\n          url: r.image!,\n          title: r.title,\n          source: r.source || undefined,\n        };\n      }) || [];\n\n  return (\n    <div className=\"flex flex-col w-full\">\n      {/* AI-style header */}\n      <div className=\"flex items-center gap-2 mb-4\">\n        <div className=\"flex items-center gap-2 px-3 py-1.5 rounded-full bg-gradient-to-r from-primary/20 to-violet-500/20 border border-primary/30\">\n          <Sparkles size={14} className=\"text-primary\" />\n          <span className=\"text-xs font-medium text-primary\">Web Search</span>\n        </div>\n        <span className=\"text-sm text-muted-foreground\">{query}</span>\n      </div>\n\n      {/* Responsive two-column layout */}\n      <div className=\"flex flex-col lg:flex-row gap-4 lg:gap-6\">\n        {/* Main content */}\n        <div className=\"flex-1 min-w-0 order-1\">\n          {/* AI Synthesis (Perplexity-style) */}\n          {hasSynthesis && (\n            <SynthesisSection synthesis={synthesis} sources={sources || []} />\n          )}\n\n          {/* Media gallery */}\n          {carouselMedia.length > 0 && <MediaGallery items={carouselMedia} />}\n\n          {/* Results */}\n          {resultCount > 0 ? (\n            <div className=\"flex flex-col divide-y divide-white/5\">\n              {results.map((result, index) => (\n                <div\n                  key={result.url || index}\n                  className=\"py-4 first:pt-0 last:pb-0\"\n                >\n                  <RichResultCard result={result} index={index} />\n                </div>\n              ))}\n            </div>\n          ) : !hasSynthesis ? (\n            <div className=\"p-8 text-center\">\n              <div className=\"w-12 h-12 mx-auto mb-3 rounded-full bg-white/5 flex items-center justify-center\">\n                <Globe size={20} className=\"text-white/30\" />\n              </div>\n              <p className=\"text-muted-foreground\">\n                No results found for &quot;{query}&quot;\n              </p>\n            </div>\n          ) : null}\n\n          {/* Footer stats */}\n          {resultCount > 0 && (\n            <div className=\"mt-4 pt-4 border-t border-white/5\">\n              <div className=\"flex items-center gap-4 text-xs text-muted-foreground/60\">\n                <span>{totalResults ?? resultCount} results</span>\n                {searchTime && <span>{(searchTime / 1000).toFixed(2)}s</span>}\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Sources sidebar - responsive width */}\n        {hasSources && (\n          <div className=\"hidden lg:block w-[240px] xl:w-[280px] shrink-0 order-2\">\n            <SourcesSidebar\n              sources={sources}\n              expanded={sourcesExpanded}\n              onToggle={() => setSourcesExpanded(!sourcesExpanded)}\n            />\n          </div>\n        )}\n      </div>\n\n      {/* Mobile sources */}\n      {hasSources && (\n        <div className=\"lg:hidden mt-6 pt-4 border-t border-white/10\">\n          <SourcesSidebar\n            sources={sources}\n            expanded={sourcesExpanded}\n            onToggle={() => setSourcesExpanded(!sourcesExpanded)}\n          />\n        </div>\n      )}\n\n      {children}\n    </div>\n  );\n});\n","\"use client\";\n\nimport { memo, useState, useRef, useEffect, useCallback } from \"react\";\nimport type { SourceCitation } from \"../schema\";\n\nexport const CitationLink = memo(function CitationLink({\n  id,\n  sources,\n}: {\n  id: string;\n  sources: SourceCitation[];\n}) {\n  const source = sources.find((s) => s.id === id);\n  const [showPopover, setShowPopover] = useState(false);\n  const [popoverPosition, setPopoverPosition] = useState<\"top\" | \"bottom\">(\n    \"bottom\",\n  );\n  const buttonRef = useRef<HTMLButtonElement>(null);\n  const popoverRef = useRef<HTMLDivElement>(null);\n\n  // Calculate popover position based on viewport\n  const updatePosition = useCallback(() => {\n    if (!buttonRef.current) return;\n    const rect = buttonRef.current.getBoundingClientRect();\n    const spaceBelow = window.innerHeight - rect.bottom;\n    setPopoverPosition(spaceBelow < 200 ? \"top\" : \"bottom\");\n  }, []);\n\n  // Close on outside click\n  useEffect(() => {\n    if (!showPopover) return;\n    const handleClick = (e: MouseEvent) => {\n      if (\n        popoverRef.current &&\n        !popoverRef.current.contains(e.target as Node) &&\n        buttonRef.current &&\n        !buttonRef.current.contains(e.target as Node)\n      ) {\n        setShowPopover(false);\n      }\n    };\n    document.addEventListener(\"click\", handleClick);\n    return () => document.removeEventListener(\"click\", handleClick);\n  }, [showPopover]);\n\n  if (!source) return <span className=\"text-primary/60\">[{id}]</span>;\n\n  const isWebSource = !!source.url;\n  const hasExcerpt = !!(source.excerpt || source.snippet);\n\n  const handleClick = (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (isWebSource && !hasExcerpt) {\n      // Web source without excerpt - open URL\n      window.open(source.url!, \"_blank\", \"noopener,noreferrer\");\n    } else {\n      // Document source or has excerpt - show popover\n      updatePosition();\n      setShowPopover(!showPopover);\n    }\n  };\n\n  return (\n    <span className=\"relative inline-block\">\n      <button\n        ref={buttonRef}\n        onClick={handleClick}\n        title={source.title}\n        className=\"inline-flex items-center justify-center min-w-4 h-4 px-1 text-[10px] font-medium bg-primary/20 text-primary rounded hover:bg-primary/30 transition-colors ml-0.5 cursor-pointer\"\n      >\n        {id}\n      </button>\n\n      {showPopover && hasExcerpt && (\n        <div\n          ref={popoverRef}\n          className={`absolute z-50 w-72 max-w-[90vw] p-3 rounded-lg border border-white/10 bg-zinc-900/95 backdrop-blur-sm shadow-xl ${\n            popoverPosition === \"top\" ? \"bottom-full mb-2\" : \"top-full mt-2\"\n          } left-1/2 -translate-x-1/2`}\n        >\n          {/* Arrow */}\n          <div\n            className={`absolute left-1/2 -translate-x-1/2 w-2 h-2 bg-zinc-900/95 border-white/10 rotate-45 ${\n              popoverPosition === \"top\"\n                ? \"bottom-[-5px] border-r border-b\"\n                : \"top-[-5px] border-l border-t\"\n            }`}\n          />\n\n          {/* Header */}\n          <div className=\"flex items-center gap-2 mb-2 pb-2 border-b border-white/5\">\n            {source.pageNumber && (\n              <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-primary/20 text-primary shrink-0\">\n                p. {source.pageNumber}\n              </span>\n            )}\n            <span className=\"text-xs font-medium text-foreground/80 truncate\">\n              {source.title}\n            </span>\n          </div>\n\n          {/* Excerpt */}\n          <p className=\"text-xs text-foreground/70 leading-relaxed italic\">\n            \"{source.excerpt || source.snippet}\"\n          </p>\n\n          {/* Footer for web sources */}\n          {isWebSource && (\n            <a\n              href={source.url!}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"mt-2 pt-2 border-t border-white/5 flex items-center gap-1 text-[10px] text-primary hover:underline\"\n            >\n              {source.domain || \"Open source\"} ‚Üí\n            </a>\n          )}\n        </div>\n      )}\n    </span>\n  );\n});\n","import { memo } from \"react\";\nimport type { SourceCitation } from \"../schema\";\nimport { CitationLink } from \"./citation-link\";\n\nexport const TextWithCitations = memo(function TextWithCitations({\n  text,\n  sources,\n}: {\n  text: string;\n  sources: SourceCitation[];\n}) {\n  const parts = text.split(/(\\[\\d+\\])/g);\n\n  return (\n    <>\n      {parts.map((part, idx) => {\n        const match = part.match(/\\[(\\d+)\\]/);\n        if (match) {\n          return <CitationLink key={idx} id={match[1]!} sources={sources} />;\n        }\n        return <span key={idx}>{part}</span>;\n      })}\n    </>\n  );\n});\n","import { memo, useState } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { ChevronDown, BookOpen, Lightbulb, MessageSquare } from \"lucide-react\";\nimport type { Synthesis, SourceCitation } from \"../schema\";\nimport { cn } from \"../../../utils/cn\";\nimport { TextWithCitations } from \"./text-with-citations\";\n\nexport const SynthesisSection = memo(function SynthesisSection({\n  synthesis,\n  sources,\n}: {\n  synthesis: Synthesis;\n  sources: SourceCitation[];\n}) {\n  const [showAllKeyPoints, setShowAllKeyPoints] = useState(false);\n  const [expandedSections, setExpandedSections] = useState<Set<number>>(\n    new Set([0]),\n  );\n\n  const toggleSection = (idx: number) => {\n    setExpandedSections((prev) => {\n      const next = new Set(prev);\n      if (next.has(idx)) next.delete(idx);\n      else next.add(idx);\n      return next;\n    });\n  };\n\n  const visibleKeyPoints = showAllKeyPoints\n    ? synthesis.keyPoints\n    : synthesis.keyPoints?.slice(0, 4);\n\n  return (\n    <div className=\"mb-6 space-y-4\">\n      {/* Summary with citations */}\n      <motion.div\n        initial={{ opacity: 0, y: 10 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"p-5 rounded-2xl bg-gradient-to-br from-primary/5 via-violet-500/5 to-transparent border border-primary/10\"\n      >\n        <div className=\"flex items-center gap-2 mb-3\">\n          <div className=\"w-6 h-6 rounded-lg bg-primary/20 flex items-center justify-center\">\n            <BookOpen size={14} className=\"text-primary\" />\n          </div>\n          <span className=\"text-sm font-semibold text-foreground\">\n            AI Summary\n          </span>\n        </div>\n        <p className=\"text-sm text-foreground/90 leading-relaxed\">\n          <TextWithCitations text={synthesis.summary} sources={sources} />\n        </p>\n      </motion.div>\n\n      {/* Key Points */}\n      {synthesis.keyPoints && synthesis.keyPoints.length > 0 && (\n        <motion.div\n          initial={{ opacity: 0, y: 10 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.1 }}\n          className=\"p-4 rounded-xl bg-white/[0.02] border border-white/5\"\n        >\n          <div className=\"flex items-center gap-2 mb-3\">\n            <Lightbulb size={14} className=\"text-amber-400\" />\n            <span className=\"text-xs font-semibold text-foreground/80 uppercase tracking-wide\">\n              Key Points\n            </span>\n          </div>\n          <ul className=\"space-y-2\">\n            {visibleKeyPoints?.map((point, idx) => (\n              <motion.li\n                key={idx}\n                initial={{ opacity: 0, x: -10 }}\n                animate={{ opacity: 1, x: 0 }}\n                transition={{ delay: idx * 0.05 }}\n                className=\"flex items-start gap-2 text-sm text-foreground/80\"\n              >\n                <span className=\"mt-1.5 w-1.5 h-1.5 rounded-full bg-primary/60 shrink-0\" />\n                <span className=\"leading-relaxed\">\n                  <TextWithCitations text={point.text} sources={sources} />\n                </span>\n              </motion.li>\n            ))}\n          </ul>\n          {synthesis.keyPoints.length > 4 && (\n            <button\n              onClick={() => setShowAllKeyPoints(!showAllKeyPoints)}\n              className=\"mt-3 text-xs text-primary/70 hover:text-primary transition-colors flex items-center gap-1\"\n            >\n              {showAllKeyPoints\n                ? \"Show less\"\n                : `Show all ${synthesis.keyPoints.length} points`}\n              <ChevronDown\n                size={12}\n                className={cn(\n                  \"transition-transform\",\n                  showAllKeyPoints && \"rotate-180\",\n                )}\n              />\n            </button>\n          )}\n        </motion.div>\n      )}\n\n      {/* Thematic Sections */}\n      {synthesis.sections && synthesis.sections.length > 0 && (\n        <div className=\"space-y-2\">\n          {synthesis.sections.map((section, idx) => (\n            <motion.div\n              key={idx}\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.15 + idx * 0.05 }}\n              className=\"rounded-xl border border-white/5 overflow-hidden\"\n            >\n              <button\n                onClick={() => toggleSection(idx)}\n                className=\"w-full p-3 flex items-center justify-between text-left bg-white/[0.02] hover:bg-white/[0.04] transition-colors\"\n              >\n                <span className=\"text-sm font-medium text-foreground/90\">\n                  {section.title}\n                </span>\n                <ChevronDown\n                  size={14}\n                  className={cn(\n                    \"text-muted-foreground transition-transform\",\n                    expandedSections.has(idx) && \"rotate-180\",\n                  )}\n                />\n              </button>\n              <AnimatePresence>\n                {expandedSections.has(idx) && (\n                  <motion.div\n                    initial={{ height: 0, opacity: 0 }}\n                    animate={{ height: \"auto\", opacity: 1 }}\n                    exit={{ height: 0, opacity: 0 }}\n                    transition={{ duration: 0.2 }}\n                    className=\"overflow-hidden\"\n                  >\n                    <div className=\"p-4 pt-2 text-sm text-foreground/80 leading-relaxed\">\n                      <TextWithCitations\n                        text={section.content}\n                        sources={sources}\n                      />\n                    </div>\n                  </motion.div>\n                )}\n              </AnimatePresence>\n            </motion.div>\n          ))}\n        </div>\n      )}\n\n      {/* Follow-up Questions */}\n      {synthesis.followUpQuestions &&\n        synthesis.followUpQuestions.length > 0 && (\n          <motion.div\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.25 }}\n            className=\"p-4 rounded-xl bg-white/[0.02] border border-white/5\"\n          >\n            <div className=\"flex items-center gap-2 mb-3\">\n              <MessageSquare size={14} className=\"text-blue-400\" />\n              <span className=\"text-xs font-semibold text-foreground/80 uppercase tracking-wide\">\n                Related Questions\n              </span>\n            </div>\n            <div className=\"flex flex-wrap gap-2\">\n              {synthesis.followUpQuestions.map((question, idx) => (\n                <button\n                  key={idx}\n                  className=\"px-3 py-1.5 text-xs text-foreground/70 bg-white/5 hover:bg-white/10 rounded-full border border-white/10 hover:border-white/20 transition-all\"\n                >\n                  {question}\n                </button>\n              ))}\n            </div>\n          </motion.div>\n        )}\n    </div>\n  );\n});\n","import { memo, useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { Play } from \"lucide-react\";\nimport { cn } from \"../../../utils/cn\";\nimport { detectVideoEmbed } from \"./video-utils\";\n\nexport interface MediaItem {\n  type: \"image\" | \"video\";\n  url: string;\n  title: string;\n  source?: string;\n  thumbnail?: string;\n  provider?: string;\n  duration?: string;\n}\n\nexport const MediaGallery = memo(function MediaGallery({\n  items,\n}: {\n  items: MediaItem[];\n}) {\n  const [activeVideo, setActiveVideo] = useState<number | null>(null);\n\n  if (!items || items.length === 0) return null;\n\n  const handleVideoClick = (idx: number, item: MediaItem) => {\n    if (item.type === \"video\") {\n      setActiveVideo(activeVideo === idx ? null : idx);\n    }\n  };\n\n  return (\n    <div className=\"mb-6\">\n      <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3\">\n        {items.map((item, idx) => {\n          const isVideoActive = activeVideo === idx && item.type === \"video\";\n          const embedInfo =\n            item.type === \"video\" ? detectVideoEmbed(item.url) : null;\n\n          return (\n            <motion.div\n              key={idx}\n              initial={{ opacity: 0, scale: 0.95 }}\n              animate={{ opacity: 1, scale: 1 }}\n              transition={{ delay: idx * 0.05 }}\n              className={cn(\n                \"group cursor-pointer\",\n                isVideoActive &&\n                  \"col-span-2 sm:col-span-3 md:col-span-4 lg:col-span-5\",\n              )}\n            >\n              <div\n                className={cn(\n                  \"relative rounded-xl overflow-hidden bg-white/5 border border-white/10 hover:border-white/30 transition-all\",\n                  isVideoActive ? \"aspect-video w-full\" : \"aspect-[4/3] w-full\",\n                )}\n                onClick={() => handleVideoClick(idx, item)}\n              >\n                {isVideoActive && embedInfo ? (\n                  <iframe\n                    src={embedInfo.embedUrl}\n                    title={item.title}\n                    className=\"absolute inset-0 w-full h-full border-0\"\n                    allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen\"\n                    allowFullScreen\n                  />\n                ) : isVideoActive && !embedInfo ? (\n                  <video\n                    src={item.url}\n                    controls\n                    autoPlay\n                    className=\"absolute inset-0 w-full h-full object-contain bg-black\"\n                  >\n                    <source src={item.url} />\n                  </video>\n                ) : item.type === \"video\" ? (\n                  <div className=\"relative w-full h-full\">\n                    <img\n                      src={item.thumbnail || item.url}\n                      alt={item.title}\n                      className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\n                      loading=\"lazy\"\n                      onError={(e) => {\n                        (e.target as HTMLImageElement).style.display = \"none\";\n                      }}\n                    />\n                    <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent\" />\n                    <div className=\"absolute inset-0 flex items-center justify-center\">\n                      <div className=\"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-black/60 border border-white/30 flex items-center justify-center group-hover:scale-110 group-hover:bg-primary/80 transition-all\">\n                        <Play size={18} className=\"text-white ml-0.5\" />\n                      </div>\n                    </div>\n                    {item.duration && (\n                      <div className=\"absolute bottom-2 right-2 text-xs px-2 py-1 rounded-md bg-black/70 text-white/90 font-mono\">\n                        {item.duration}\n                      </div>\n                    )}\n                    {item.provider && (\n                      <div className=\"absolute top-2 left-2 text-[10px] px-2 py-0.5 rounded-full bg-black/60 text-white/80 font-medium uppercase tracking-wide\">\n                        {item.provider}\n                      </div>\n                    )}\n                  </div>\n                ) : (\n                  <>\n                    <img\n                      src={item.url}\n                      alt={item.title}\n                      className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\n                      loading=\"lazy\"\n                      onError={(e) => {\n                        (e.target as HTMLImageElement).style.display = \"none\";\n                      }}\n                    />\n                    <div className=\"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity\" />\n                  </>\n                )}\n              </div>\n              {!isVideoActive && (\n                <p className=\"mt-2 text-xs sm:text-sm text-muted-foreground line-clamp-2 leading-snug\">\n                  {item.title}\n                </p>\n              )}\n            </motion.div>\n          );\n        })}\n      </div>\n    </div>\n  );\n});\n","/**\n * Detect Video Embed URL\n * Supports YouTube, Vimeo, and Dailymotion\n */\nexport function detectVideoEmbed(\n  url: string,\n): { embedUrl: string; provider: string } | null {\n  if (!url) return null;\n\n  // YouTube patterns\n  const youtubeMatch = url.match(\n    /(?:youtube\\.com\\/watch\\?v=|youtu\\.be\\/|youtube\\.com\\/embed\\/|youtube\\.com\\/shorts\\/)([a-zA-Z0-9_-]{11})/,\n  );\n  if (youtubeMatch?.[1]) {\n    return {\n      provider: \"youtube\",\n      embedUrl: `https://www.youtube.com/embed/${youtubeMatch[1]}?rel=0&modestbranding=1`,\n    };\n  }\n\n  // Vimeo patterns\n  const vimeoMatch = url.match(/vimeo\\.com\\/(?:video\\/)?(\\d+)/);\n  if (vimeoMatch?.[1]) {\n    return {\n      provider: \"vimeo\",\n      embedUrl: `https://player.vimeo.com/video/${vimeoMatch[1]}?byline=0&portrait=0`,\n    };\n  }\n\n  // Dailymotion patterns\n  const dailymotionMatch = url.match(\n    /(?:dailymotion\\.com\\/video\\/|dai\\.ly\\/)([a-zA-Z0-9]+)/,\n  );\n  if (dailymotionMatch?.[1]) {\n    return {\n      provider: \"dailymotion\",\n      embedUrl: `https://www.dailymotion.com/embed/video/${dailymotionMatch[1]}`,\n    };\n  }\n\n  return null;\n}\n","import { memo, useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { Globe, ChevronDown } from \"lucide-react\";\nimport type { SourceCitation } from \"../schema\";\nimport { cn } from \"../../../utils/cn\";\n\nexport const SourcesSidebar = memo(function SourcesSidebar({\n  sources,\n  expanded,\n  onToggle,\n}: {\n  sources: SourceCitation[];\n  expanded: boolean;\n  onToggle: () => void;\n}) {\n  const [imgErrors, setImgErrors] = useState<Set<string>>(new Set());\n  const visibleSources = expanded ? sources : sources.slice(0, 4);\n\n  return (\n    <div className=\"flex flex-col gap-2\">\n      {/* Header with count */}\n      <div className=\"flex items-center gap-2 text-xs text-muted-foreground mb-1\">\n        <div className=\"flex -space-x-1\">\n          {sources.slice(0, 3).map((s, i) => (\n            <div\n              key={i}\n              className=\"w-5 h-5 rounded-full bg-white/10 border-2 border-zinc-900 flex items-center justify-center overflow-hidden\"\n            >\n              {s.favicon && !imgErrors.has(s.favicon) ? (\n                <img\n                  src={s.favicon}\n                  alt=\"\"\n                  className=\"w-full h-full object-cover\"\n                  onError={() =>\n                    setImgErrors((prev) => new Set(prev).add(s.favicon!))\n                  }\n                />\n              ) : (\n                <Globe size={10} className=\"text-white/40\" />\n              )}\n            </div>\n          ))}\n        </div>\n        <span className=\"font-medium\">{sources.length} sources</span>\n      </div>\n\n      {/* Source list */}\n      <div className=\"flex flex-col gap-1.5\">\n        {visibleSources.map((source, idx) => (\n          <motion.a\n            key={source.id || idx}\n            initial={{ opacity: 0, x: 10 }}\n            animate={{ opacity: 1, x: 0 }}\n            transition={{ delay: idx * 0.03 }}\n            href={source.url}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"group flex items-start gap-2.5 p-2.5 rounded-xl bg-white/[0.03] hover:bg-white/[0.08] border border-transparent hover:border-white/10 transition-all no-underline\"\n          >\n            <div className=\"shrink-0 w-5 h-5 rounded-md bg-white/10 flex items-center justify-center overflow-hidden\">\n              {source.favicon && !imgErrors.has(source.favicon) ? (\n                <img\n                  src={source.favicon}\n                  alt=\"\"\n                  className=\"w-full h-full object-cover\"\n                  onError={() =>\n                    setImgErrors((prev) => new Set(prev).add(source.favicon!))\n                  }\n                />\n              ) : (\n                <Globe size={12} className=\"text-white/40\" />\n              )}\n            </div>\n            <div className=\"flex-1 min-w-0\">\n              <div className=\"text-xs font-medium text-foreground line-clamp-2 leading-tight group-hover:text-primary transition-colors\">\n                {source.title}\n              </div>\n              <div className=\"flex items-center gap-1 mt-0.5\">\n                <span className=\"text-[10px] text-muted-foreground/70\">\n                  {source.domain}\n                </span>\n              </div>\n            </div>\n          </motion.a>\n        ))}\n      </div>\n\n      {/* Show all button */}\n      {sources.length > 4 && (\n        <button\n          onClick={onToggle}\n          className=\"flex items-center justify-center gap-1 py-2 text-xs text-muted-foreground hover:text-foreground transition-colors rounded-lg hover:bg-white/5\"\n        >\n          {expanded ? \"Show less\" : \"Show all\"}\n          <ChevronDown\n            size={14}\n            className={cn(\"transition-transform\", expanded && \"rotate-180\")}\n          />\n        </button>\n      )}\n    </div>\n  );\n});\n","import { memo, useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { Globe, Play } from \"lucide-react\";\nimport type { SearchResultItem } from \"../schema\";\n\nexport const RichResultCard = memo(function RichResultCard({\n  result,\n  index,\n}: {\n  result: SearchResultItem;\n  index: number;\n}) {\n  const [imgError, setImgError] = useState(false);\n  const [faviconError, setFaviconError] = useState(false);\n  const [videoThumbError, setVideoThumbError] = useState(false);\n\n  const hostname = (() => {\n    try {\n      return new URL(result.url).hostname.replace(\"www.\", \"\");\n    } catch {\n      return result.url;\n    }\n  })();\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 8 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ delay: index * 0.04, duration: 0.3 }}\n      className=\"group\"\n    >\n      <a\n        href={result.url}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className=\"block no-underline\"\n      >\n        <div className=\"flex gap-4\">\n          {/* Content */}\n          <div className=\"flex-1 min-w-0\">\n            {/* Source badge */}\n            <div className=\"flex items-center gap-2 mb-2\">\n              <div className=\"flex items-center gap-1.5 px-2 py-1 rounded-full bg-white/5 border border-white/10\">\n                {result.favicon && !faviconError ? (\n                  <img\n                    src={result.favicon}\n                    alt=\"\"\n                    className=\"w-3.5 h-3.5 rounded-sm\"\n                    onError={() => setFaviconError(true)}\n                  />\n                ) : (\n                  <Globe size={12} className=\"text-white/40\" />\n                )}\n                <span className=\"text-[11px] text-muted-foreground font-medium\">\n                  {result.source || hostname}\n                </span>\n              </div>\n              {result.date && (\n                <span className=\"text-[11px] text-muted-foreground/60\">\n                  {result.date}\n                </span>\n              )}\n            </div>\n\n            {/* Title with hover effect */}\n            <h3 className=\"text-[15px] font-semibold text-foreground leading-snug mb-2 group-hover:text-primary transition-colors\">\n              {result.title}\n            </h3>\n\n            {/* Snippet */}\n            <p className=\"text-sm text-muted-foreground leading-relaxed line-clamp-2\">\n              {result.snippet}\n            </p>\n          </div>\n\n          {/* Image or Video thumbnail - responsive sizes */}\n          {(result.video || result.image) && (\n            <div className=\"shrink-0 w-[120px] h-[90px] sm:w-[160px] sm:h-[110px] md:w-[180px] md:h-[120px] rounded-xl overflow-hidden bg-white/5 border border-white/10 group-hover:border-white/20 transition-all relative\">\n              {result.video && !videoThumbError ? (\n                <>\n                  <img\n                    src={result.video.thumbnail || result.video.url}\n                    alt=\"\"\n                    className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\n                    loading=\"lazy\"\n                    onError={() => setVideoThumbError(true)}\n                  />\n                  <div className=\"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent\" />\n                  <div className=\"absolute inset-0 flex items-center justify-center\">\n                    <div className=\"w-8 h-8 sm:w-9 sm:h-9 rounded-full bg-black/60 border border-white/30 flex items-center justify-center group-hover:scale-110 group-hover:bg-primary/80 transition-all\">\n                      <Play size={14} className=\"text-white ml-0.5\" />\n                    </div>\n                  </div>\n                  {result.video.duration && (\n                    <div className=\"absolute bottom-1.5 right-1.5 text-[10px] sm:text-xs px-1.5 py-0.5 rounded-md bg-black/70 text-white/90 font-mono\">\n                      {result.video.duration}\n                    </div>\n                  )}\n                </>\n              ) : result.image && !imgError ? (\n                <img\n                  src={result.image}\n                  alt=\"\"\n                  className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\n                  loading=\"lazy\"\n                  onError={() => setImgError(true)}\n                />\n              ) : null}\n            </div>\n          )}\n        </div>\n      </a>\n    </motion.div>\n  );\n});\n","import { memo, useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { Globe, ChevronRight } from \"lucide-react\";\nimport type { SearchResultItem } from \"../schema\";\n\nexport const InlineResult = memo(function InlineResult({\n  result,\n  index,\n}: {\n  result: SearchResultItem;\n  index: number;\n}) {\n  const [faviconError, setFaviconError] = useState(false);\n\n  return (\n    <motion.a\n      initial={{ opacity: 0, y: 4 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ delay: index * 0.02 }}\n      href={result.url}\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      className=\"group flex items-center gap-3 p-3 rounded-xl hover:bg-white/[0.04] transition-all no-underline\"\n    >\n      {/* Favicon */}\n      <div className=\"shrink-0 w-8 h-8 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center\">\n        {result.favicon && !faviconError ? (\n          <img\n            src={result.favicon}\n            alt=\"\"\n            className=\"w-4 h-4 rounded-sm\"\n            onError={() => setFaviconError(true)}\n          />\n        ) : (\n          <Globe size={14} className=\"text-white/40\" />\n        )}\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 min-w-0\">\n        <div className=\"text-sm font-medium text-foreground group-hover:text-primary transition-colors truncate\">\n          {result.title}\n        </div>\n        <div className=\"text-xs text-muted-foreground/70 truncate\">\n          {result.source || result.url}\n        </div>\n      </div>\n\n      {/* Arrow */}\n      <ChevronRight\n        size={16}\n        className=\"text-white/20 group-hover:text-white/40 transition-colors\"\n      />\n    </motion.a>\n  );\n});\n","import React, { memo } from \"react\";\nimport { type ComponentRenderProps } from \"@onegenui/react\";\nimport { motion } from \"framer-motion\";\nimport { File, Clock, User } from \"lucide-react\";\nimport { cn } from \"../../utils/cn\";\n\nexport const DriveFile = memo(function DriveFile({\n  element,\n  children,\n}: ComponentRenderProps) {\n  const { name, thumbnailLink, webViewLink, iconLink, modifiedTime, owners } =\n    element.props as {\n      name: string;\n      mimeType?: string;\n      thumbnailLink?: string;\n      webViewLink?: string;\n      iconLink?: string;\n      modifiedTime?: string;\n      owners?: Array<{ displayName?: string; photoLink?: string }>;\n    };\n\n  return (\n    <motion.div\n      whileHover={{ scale: 1.02 }}\n      whileTap={{ scale: 0.98 }}\n      className={cn(\n        \"card-glass flex flex-col w-full max-w-[300px]\",\n        \"overflow-hidden cursor-pointer\",\n        webViewLink ? \"hover:shadow-2xl\" : \"cursor-default\",\n      )}\n      onClick={() => webViewLink && window.open(webViewLink, \"_blank\")}\n    >\n      {thumbnailLink ? (\n        <div className=\"h-40 w-full overflow-hidden bg-zinc-900/50 flex items-center justify-center\">\n          <img\n            src={thumbnailLink}\n            alt={name}\n            className=\"w-full h-full object-cover\"\n          />\n        </div>\n      ) : (\n        <div className=\"h-40 w-full bg-zinc-900/50 flex items-center justify-center\">\n          <File size={48} className=\"text-muted-foreground\" />\n        </div>\n      )}\n\n      <div className=\"p-4\">\n        <div className=\"flex items-center gap-2 mb-2\">\n          {iconLink ? (\n            <img src={iconLink} alt=\"\" className=\"w-4 h-4\" />\n          ) : (\n            <File size={16} />\n          )}\n          <div\n            className=\"font-medium text-sm whitespace-nowrap overflow-hidden text-ellipsis text-foreground\"\n            title={name}\n          >\n            {name}\n          </div>\n        </div>\n\n        <div className=\"flex flex-col gap-1.5 text-xs text-muted-foreground\">\n          {modifiedTime && (\n            <div className=\"flex items-center gap-1.5\">\n              <Clock size={12} />\n              {new Date(modifiedTime).toLocaleDateString()}\n            </div>\n          )}\n          {owners && owners[0] && (\n            <div className=\"flex items-center gap-1.5\">\n              <User size={12} />\n              {owners[0].displayName}\n            </div>\n          )}\n        </div>\n      </div>\n      {children}\n    </motion.div>\n  );\n});\n","\"use client\";\n\nimport { memo, useState } from \"react\";\nimport { type ComponentRenderProps } from \"@onegenui/react\";\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport { cn } from \"../../utils/cn\";\nimport {\n  FileGridCard,\n  FileListRow,\n  DriveIcon,\n  GridIcon,\n  ListIcon,\n  isFolder,\n  type DriveFileItem,\n  type ViewMode,\n} from \"./components\";\n\nexport const DriveFileList = memo(function DriveFileList({\n  element,\n  children,\n}: ComponentRenderProps) {\n  const {\n    title,\n    description,\n    files: initialFiles,\n    viewMode: initialViewMode = \"list\",\n  } = element.props as {\n    title?: string | null;\n    description?: string | null;\n    files?: DriveFileItem[] | null;\n    viewMode?: ViewMode;\n  };\n\n  const [viewMode, setViewMode] = useState<ViewMode>(initialViewMode);\n  const files = initialFiles || [];\n\n  const sortedFiles = [...files].sort((a, b) => {\n    const aFolder = isFolder(a.mimeType);\n    const bFolder = isFolder(b.mimeType);\n    if (aFolder && !bFolder) return -1;\n    if (!aFolder && bFolder) return 1;\n    return a.name.localeCompare(b.name);\n  });\n\n  const handleOpenFile = (file: DriveFileItem) => {\n    if (file.webViewLink) {\n      window.open(file.webViewLink, \"_blank\");\n    }\n  };\n\n  return (\n    <div className=\"card-glass w-full h-full min-h-[400px] flex flex-col overflow-hidden\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center p-5 border-b border-white/10 bg-black/20\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-9 h-9 rounded-xl flex items-center justify-center shadow-lg bg-gradient-to-br from-amber-400 to-amber-600 shadow-amber-500/20\">\n            <DriveIcon />\n          </div>\n          <div>\n            <h3 className=\"m-0 text-base font-semibold text-foreground\">\n              {title || \"Google Drive\"}\n            </h3>\n            {description && (\n              <div className=\"text-xs text-muted-foreground mt-0.5\">\n                {description}\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-3\">\n          <span className=\"text-xs text-muted-foreground px-2.5 py-1 bg-white/5 rounded-full\">\n            {files.length} element{files.length !== 1 ? \"i\" : \"o\"}\n          </span>\n\n          <div className=\"flex gap-1 p-1 bg-black/20 rounded-xl\">\n            <button\n              onClick={() => setViewMode(\"grid\")}\n              className={cn(\n                \"flex items-center justify-center p-2 rounded-lg border-0 cursor-pointer transition-all\",\n                viewMode === \"grid\"\n                  ? \"bg-white/10 text-foreground\"\n                  : \"bg-transparent text-muted-foreground hover:bg-white/5\",\n              )}\n              title=\"Vista griglia\"\n            >\n              <GridIcon />\n            </button>\n            <button\n              onClick={() => setViewMode(\"list\")}\n              className={cn(\n                \"flex items-center justify-center p-2 rounded-lg border-0 cursor-pointer transition-all\",\n                viewMode === \"list\"\n                  ? \"bg-white/10 text-foreground\"\n                  : \"bg-transparent text-muted-foreground hover:bg-white/5\",\n              )}\n              title=\"Vista lista\"\n            >\n              <ListIcon />\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 overflow-auto\">\n        {files.length === 0 ? (\n          <div className=\"p-16 text-center text-muted-foreground\">\n            <div className=\"text-5xl mb-4 opacity-30\">üìÅ</div>\n            <div className=\"text-lg font-medium mb-2\">Nessun file</div>\n            <div className=\"text-sm opacity-70\">Questa cartella √® vuota</div>\n          </div>\n        ) : viewMode === \"grid\" ? (\n          <motion.div\n            layout\n            className=\"grid grid-cols-[repeat(auto-fill,minmax(160px,1fr))] gap-4 p-5\"\n          >\n            <AnimatePresence>\n              {sortedFiles.map((file) => (\n                <FileGridCard\n                  key={file.id}\n                  file={file}\n                  onOpen={handleOpenFile}\n                />\n              ))}\n            </AnimatePresence>\n          </motion.div>\n        ) : (\n          <div>\n            <div className=\"flex items-center gap-3.5 px-5 py-2.5 border-b border-white/5 text-[11px] font-semibold text-muted-foreground uppercase tracking-wider\">\n              <div className=\"w-10\" />\n              <div className=\"flex-1\">Nome</div>\n              <div className=\"min-w-20 text-right\">Dimensione</div>\n              <div className=\"min-w-24 text-right\">Modificato</div>\n              <div className=\"w-20\" />\n            </div>\n\n            <AnimatePresence>\n              {sortedFiles.map((file) => (\n                <FileListRow\n                  key={file.id}\n                  file={file}\n                  onOpen={handleOpenFile}\n                />\n              ))}\n            </AnimatePresence>\n          </div>\n        )}\n      </div>\n      {children}\n    </div>\n  );\n});\n","\"use client\";\n\nimport { memo } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { cn } from \"../../../utils/cn\";\nimport type { DriveFileItem } from \"./types\";\nimport { isFolder, getFileTypeName, formatFileSize, formatDate } from \"./types\";\nimport {\n  FolderIcon,\n  FileIcon,\n  StarIcon,\n  ShareIcon,\n  ExternalLinkIcon,\n} from \"./icons\";\n\nexport const FileGridCard = memo(function FileGridCard({\n  file,\n  onOpen,\n}: {\n  file: DriveFileItem;\n  onOpen: (file: DriveFileItem) => void;\n}) {\n  const folder = isFolder(file.mimeType);\n\n  return (\n    <motion.div\n      layout\n      initial={{ opacity: 0, scale: 0.9 }}\n      animate={{ opacity: 1, scale: 1 }}\n      exit={{ opacity: 0, scale: 0.9 }}\n      whileHover={{ scale: 1.05, y: -2 }}\n      onClick={() => onOpen(file)}\n      className={cn(\n        \"group flex flex-col items-center gap-3 p-4 min-w-[140px]\",\n        \"card-glass border-white/5\",\n        \"cursor-pointer\",\n      )}\n    >\n      <div\n        className={cn(\n          \"w-16 h-16 flex items-center justify-center rounded-xl\",\n          folder ? \"bg-amber-500/10\" : \"bg-white/5\",\n        )}\n      >\n        {file.thumbnailLink ? (\n          <img\n            src={file.thumbnailLink}\n            alt={file.name}\n            className=\"w-12 h-12 object-cover rounded-lg\"\n          />\n        ) : folder ? (\n          <FolderIcon />\n        ) : (\n          <FileIcon mimeType={file.mimeType} />\n        )}\n      </div>\n\n      <div\n        className=\"text-[13px] font-medium text-center whitespace-nowrap overflow-hidden text-ellipsis max-w-full text-foreground\"\n        title={file.name}\n      >\n        {file.name}\n      </div>\n\n      <div className=\"text-[11px] text-muted-foreground px-2 py-1 bg-white/5 rounded-md\">\n        {getFileTypeName(file.mimeType)}\n      </div>\n    </motion.div>\n  );\n});\n\nexport const FileListRow = memo(function FileListRow({\n  file,\n  onOpen,\n}: {\n  file: DriveFileItem;\n  onOpen: (file: DriveFileItem) => void;\n}) {\n  const folder = isFolder(file.mimeType);\n\n  return (\n    <motion.div\n      layout\n      initial={{ opacity: 0, x: -10 }}\n      animate={{ opacity: 1, x: 0 }}\n      exit={{ opacity: 0, x: -10 }}\n      onClick={() => onOpen(file)}\n      className={cn(\n        \"group flex items-center gap-3.5 px-5 py-3.5\",\n        \"border-b border-white/5\",\n        \"cursor-pointer transition-colors duration-200\",\n        \"hover:bg-white/5\",\n      )}\n    >\n      <div\n        className={cn(\n          \"w-10 h-10 flex items-center justify-center rounded-xl shrink-0\",\n          folder ? \"bg-amber-500/10\" : \"bg-white/5\",\n        )}\n      >\n        {file.iconLink ? (\n          <img src={file.iconLink} alt=\"\" className=\"w-5 h-5\" />\n        ) : folder ? (\n          <FolderIcon />\n        ) : (\n          <FileIcon mimeType={file.mimeType} />\n        )}\n      </div>\n\n      <div className=\"flex-1 min-w-0\">\n        <div className=\"text-sm font-medium whitespace-nowrap overflow-hidden text-ellipsis text-foreground\">\n          {file.name}\n        </div>\n        <div className=\"text-xs text-muted-foreground\">\n          {getFileTypeName(file.mimeType)}\n        </div>\n      </div>\n\n      <div className=\"text-xs text-muted-foreground min-w-20 text-right\">\n        {formatFileSize(file.size)}\n      </div>\n\n      <div className=\"text-xs text-muted-foreground min-w-24 text-right\">\n        {formatDate(file.modifiedTime)}\n      </div>\n\n      <div className=\"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200\">\n        {file.starred && (\n          <span className=\"text-[#fbbf24]\">\n            <StarIcon filled />\n          </span>\n        )}\n        {file.shared && (\n          <span className=\"text-muted-foreground\">\n            <ShareIcon />\n          </span>\n        )}\n        {file.webViewLink && (\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              window.open(file.webViewLink!, \"_blank\");\n            }}\n            className={cn(\n              \"flex items-center justify-center p-2 rounded-lg\",\n              \"text-muted-foreground hover:bg-white/10 hover:text-foreground\",\n              \"bg-transparent border-0 cursor-pointer transition-colors\",\n            )}\n            title=\"Apri in Drive\"\n          >\n            <ExternalLinkIcon />\n          </button>\n        )}\n      </div>\n    </motion.div>\n  );\n});\n","// =============================================================================\n// Types\n// =============================================================================\n\nexport interface DriveFileItem {\n  id: string;\n  name: string;\n  mimeType: string;\n  size?: number | null;\n  modifiedTime?: string | null;\n  webViewLink?: string | null;\n  iconLink?: string | null;\n  thumbnailLink?: string | null;\n  owners?: Array<{ displayName?: string; photoLink?: string }> | null;\n  shared?: boolean;\n  starred?: boolean;\n}\n\nexport type ViewMode = \"grid\" | \"list\";\n\n// =============================================================================\n// Helpers\n// =============================================================================\n\nexport function formatFileSize(bytes?: number | null): string {\n  if (!bytes) return \"\";\n  const units = [\"B\", \"KB\", \"MB\", \"GB\"];\n  let size = bytes;\n  let unitIndex = 0;\n  while (size >= 1024 && unitIndex < units.length - 1) {\n    size /= 1024;\n    unitIndex++;\n  }\n  return `${size.toFixed(1)} ${units[unitIndex]}`;\n}\n\nexport function formatDate(dateStr?: string | null): string {\n  if (!dateStr) return \"\";\n  try {\n    return new Date(dateStr).toLocaleDateString(\"it-IT\", {\n      day: \"numeric\",\n      month: \"short\",\n      year: \"numeric\",\n    });\n  } catch {\n    return dateStr;\n  }\n}\n\nexport function getFileTypeName(mimeType: string): string {\n  if (mimeType.includes(\"folder\")) return \"Cartella\";\n  if (mimeType.includes(\"document\") || mimeType.includes(\"word\"))\n    return \"Documento\";\n  if (mimeType.includes(\"spreadsheet\") || mimeType.includes(\"excel\"))\n    return \"Foglio di calcolo\";\n  if (mimeType.includes(\"presentation\") || mimeType.includes(\"powerpoint\"))\n    return \"Presentazione\";\n  if (mimeType.includes(\"pdf\")) return \"PDF\";\n  if (mimeType.includes(\"image\")) return \"Immagine\";\n  if (mimeType.includes(\"video\")) return \"Video\";\n  if (mimeType.includes(\"audio\")) return \"Audio\";\n  return \"File\";\n}\n\nexport function isFolder(mimeType: string): boolean {\n  return mimeType === \"application/vnd.google-apps.folder\";\n}\n","// =============================================================================\n// Icons for DriveFileList\n// =============================================================================\n\nexport const DriveIcon = () => (\n  <svg width=\"18\" height=\"18\" viewBox=\"0 0 87.3 78\" fill=\"none\">\n    <path\n      d=\"M6.6 66.85l3.85 6.65c.8 1.4 1.95 2.5 3.3 3.3l13.75-23.8H0c0 1.55.4 3.1 1.2 4.5l5.4 9.35z\"\n      fill=\"#0066da\"\n    />\n    <path\n      d=\"M43.65 25L29.9 0H21.6c-1.35.8-2.5 1.9-3.3 3.3L1.2 29.4c-.8 1.4-1.2 2.95-1.2 4.5h27.5L43.65 25z\"\n      fill=\"#00ac47\"\n    />\n    <path\n      d=\"M73.55 76.8c1.35-.8 2.5-1.9 3.3-3.3l1.6-2.75 7.65-13.25c.8-1.4 1.2-2.95 1.2-4.5H59.85L73.55 76.8z\"\n      fill=\"#ea4335\"\n    />\n    <path d=\"M43.65 25L57.4 0H29.9l13.75 23.8V25z\" fill=\"#00832d\" />\n    <path\n      d=\"M59.85 53h27.5L70.9 23.85c-.8-1.4-1.95-2.5-3.3-3.3l-23.95 7.5L59.85 53z\"\n      fill=\"#2684fc\"\n    />\n    <path\n      d=\"M27.5 53L13.75 76.8c1.35.8 2.9 1.2 4.5 1.2h50.8c1.6 0 3.15-.4 4.5-1.2L59.85 53H27.5z\"\n      fill=\"#ffba00\"\n    />\n  </svg>\n);\n\nexport const FolderIcon = () => (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"#fbbf24\">\n    <path d=\"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z\" />\n  </svg>\n);\n\nexport const FileIcon = ({ mimeType }: { mimeType: string }) => {\n  const getColor = () => {\n    if (mimeType.includes(\"document\") || mimeType.includes(\"word\"))\n      return \"#4285f4\";\n    if (mimeType.includes(\"spreadsheet\") || mimeType.includes(\"excel\"))\n      return \"#0f9d58\";\n    if (mimeType.includes(\"presentation\") || mimeType.includes(\"powerpoint\"))\n      return \"#f4b400\";\n    if (mimeType.includes(\"pdf\")) return \"#ea4335\";\n    if (mimeType.includes(\"image\")) return \"#9c27b0\";\n    if (mimeType.includes(\"video\")) return \"#673ab7\";\n    if (mimeType.includes(\"audio\")) return \"#ff5722\";\n    return \"#757575\";\n  };\n\n  return (\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill={getColor()}>\n      <path d=\"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z\" />\n    </svg>\n  );\n};\n\nexport const GridIcon = () => (\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth=\"2\"\n  >\n    <rect x=\"3\" y=\"3\" width=\"7\" height=\"7\" />\n    <rect x=\"14\" y=\"3\" width=\"7\" height=\"7\" />\n    <rect x=\"14\" y=\"14\" width=\"7\" height=\"7\" />\n    <rect x=\"3\" y=\"14\" width=\"7\" height=\"7\" />\n  </svg>\n);\n\nexport const ListIcon = () => (\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth=\"2\"\n  >\n    <line x1=\"8\" y1=\"6\" x2=\"21\" y2=\"6\" />\n    <line x1=\"8\" y1=\"12\" x2=\"21\" y2=\"12\" />\n    <line x1=\"8\" y1=\"18\" x2=\"21\" y2=\"18\" />\n    <line x1=\"3\" y1=\"6\" x2=\"3.01\" y2=\"6\" />\n    <line x1=\"3\" y1=\"12\" x2=\"3.01\" y2=\"12\" />\n    <line x1=\"3\" y1=\"18\" x2=\"3.01\" y2=\"18\" />\n  </svg>\n);\n\nexport const ExternalLinkIcon = () => (\n  <svg\n    width=\"14\"\n    height=\"14\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth=\"2\"\n  >\n    <path d=\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\" />\n    <polyline points=\"15 3 21 3 21 9\" />\n    <line x1=\"10\" y1=\"14\" x2=\"21\" y2=\"3\" />\n  </svg>\n);\n\nexport const StarIcon = ({ filled }: { filled?: boolean }) => (\n  <svg\n    width=\"14\"\n    height=\"14\"\n    viewBox=\"0 0 24 24\"\n    fill={filled ? \"currentColor\" : \"none\"}\n    stroke=\"currentColor\"\n    strokeWidth=\"2\"\n  >\n    <polygon points=\"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2\" />\n  </svg>\n);\n\nexport const ShareIcon = () => (\n  <svg\n    width=\"14\"\n    height=\"14\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth=\"2\"\n  >\n    <circle cx=\"18\" cy=\"5\" r=\"3\" />\n    <circle cx=\"6\" cy=\"12\" r=\"3\" />\n    <circle cx=\"18\" cy=\"19\" r=\"3\" />\n    <line x1=\"8.59\" y1=\"13.51\" x2=\"15.42\" y2=\"17.49\" />\n    <line x1=\"15.41\" y1=\"6.51\" x2=\"8.59\" y2=\"10.49\" />\n  </svg>\n);\n","\"use client\";\n\nimport { memo } from \"react\";\nimport { type ComponentRenderProps } from \"@onegenui/react\";\nimport { motion } from \"framer-motion\";\nimport type { WeatherProps } from \"./schema\";\nimport { getAccentColor } from \"../../utils/media-utils\";\nimport { CloudSun } from \"lucide-react\";\n\n// Helper to map conditions to emojis (simple fallback)\nconst getIcon = (condition: string, icon?: string | null) => {\n  if (icon && (icon.startsWith(\"http\") || icon.startsWith(\"data:\"))) {\n    return (\n      // eslint-disable-next-line @next/next/no-img-element\n      <img src={icon} alt={condition} className=\"w-8 h-8 object-contain\" />\n    );\n  }\n\n  const lower = condition.toLowerCase();\n  if (lower.includes(\"sun\") || lower.includes(\"clear\")) return \"‚òÄÔ∏è\";\n  if (lower.includes(\"partly\") || lower.includes(\"cloud\")) return \"‚õÖ\";\n  if (lower.includes(\"overcast\") || lower.includes(\"cloud\")) return \"‚òÅÔ∏è\";\n  if (lower.includes(\"rain\") || lower.includes(\"drizzle\")) return \"üåßÔ∏è\";\n  if (lower.includes(\"storm\") || lower.includes(\"thunder\")) return \"‚ö°\";\n  if (lower.includes(\"snow\")) return \"‚ùÑÔ∏è\";\n  if (lower.includes(\"fog\") || lower.includes(\"mist\")) return \"üå´Ô∏è\";\n  return \"üå°Ô∏è\";\n};\n\nexport const Weather = memo(function Weather({\n  element,\n  children,\n}: ComponentRenderProps) {\n  const {\n    location,\n    current,\n    forecastDaily = [],\n    forecastHourly = [],\n    accentColor,\n  } = element.props as WeatherProps;\n\n  const accent = getAccentColor(accentColor ?? undefined);\n\n  if (!current) {\n    return (\n      <div className=\"py-12 flex flex-col items-center justify-center border border-dashed border-white/10 rounded-2xl bg-zinc-900/20 text-muted-foreground\">\n        <CloudSun className=\"w-10 h-10 opacity-20 mb-3\" />\n        <p className=\"font-mono text-xs uppercase tracking-widest opacity-50\">\n          No weather data\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, scale: 0.95 }}\n      animate={{ opacity: 1, scale: 1 }}\n      data-selectable-item\n      data-element-key={element.key}\n      className=\"flex flex-col gap-6 p-6 rounded-3xl border border-white/10 text-foreground relative overflow-hidden card-glass shadow-lg\"\n      style={\n        {\n          background: `linear-gradient(135deg, color-mix(in srgb, ${accent || \"var(--primary)\"}, transparent 92%) 0%, var(--card) 100%)`,\n        } as React.CSSProperties\n      }\n    >\n      {/* Header & Current */}\n      <div className=\"flex justify-between items-start\">\n        <div>\n          <div className=\"text-2xl font-semibold mb-1\">{location}</div>\n          <div className=\"text-sm text-muted-foreground capitalize\">\n            {current.condition}\n          </div>\n          <div className=\"text-6xl font-bold leading-none mt-3\">\n            {Math.round(current.temp)}¬∞\n          </div>\n        </div>\n        <div className=\"text-5xl\">{getIcon(current.condition)}</div>\n      </div>\n\n      {/* Current Details */}\n      <div className=\"grid grid-cols-3 gap-3\">\n        {current.windSpeed != null && (\n          <div className=\"bg-white/5 p-3 rounded-xl flex flex-col items-center justify-center text-center gap-1\">\n            <span className=\"text-xl\">üí®</span>\n            <span className=\"text-sm font-medium\">\n              {current.windSpeed} km/h\n            </span>\n            <span className=\"text-[10px] text-muted-foreground\">Wind</span>\n          </div>\n        )}\n        {current.humidity != null && (\n          <div className=\"bg-white/5 p-3 rounded-xl flex flex-col items-center justify-center text-center gap-1\">\n            <span className=\"text-xl\">üíß</span>\n            <span className=\"text-sm font-medium\">{current.humidity}%</span>\n            <span className=\"text-[10px] text-muted-foreground\">Humidity</span>\n          </div>\n        )}\n        {current.feelsLike != null && (\n          <div className=\"bg-white/5 p-3 rounded-xl flex flex-col items-center justify-center text-center gap-1\">\n            <span className=\"text-xl\">üå°Ô∏è</span>\n            <span className=\"text-sm font-medium\">\n              {Math.round(current.feelsLike)}¬∞\n            </span>\n            <span className=\"text-[10px] text-muted-foreground\">\n              Feels Like\n            </span>\n          </div>\n        )}\n      </div>\n\n      {/* Hourly Forecast */}\n      {forecastHourly && forecastHourly.length > 0 && (\n        <div>\n          <div className=\"text-xs font-medium text-muted-foreground mb-3 uppercase tracking-wider\">\n            Hourly Forecast\n          </div>\n          <div className=\"flex gap-4 overflow-x-auto pb-4 -mb-4 scrollbar-hide\">\n            {forecastHourly.map((hour, i) => (\n              <div\n                key={i}\n                className=\"flex flex-col items-center gap-2 min-w-[50px] p-2 rounded-lg hover:bg-white/5 transition-colors\"\n              >\n                <span className=\"text-xs text-muted-foreground whitespace-nowrap\">\n                  {new Date(hour.time).toLocaleTimeString([], {\n                    hour: \"2-digit\",\n                    minute: \"2-digit\",\n                  })}\n                </span>\n                <span className=\"text-2xl\">\n                  {getIcon(hour.condition, hour.icon)}\n                </span>\n                <span className=\"text-sm font-semibold\">\n                  {Math.round(hour.temp)}¬∞\n                </span>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Daily Forecast */}\n      {forecastDaily && forecastDaily.length > 0 && (\n        <div>\n          <div className=\"text-xs font-medium text-muted-foreground mb-3 uppercase tracking-wider\">\n            5-Day Forecast\n          </div>\n          <div className=\"flex flex-col gap-2\">\n            {forecastDaily.map((day, i) => (\n              <div\n                key={i}\n                className=\"flex items-center justify-between p-2 rounded-lg hover:bg-white/5 transition-colors\"\n              >\n                <div className=\"w-16 font-medium\">\n                  {new Date(day.date).toLocaleDateString([], {\n                    weekday: \"short\",\n                  })}\n                </div>\n                <div className=\"flex items-center gap-3 flex-1 justify-center\">\n                  <span className=\"text-xl\">\n                    {getIcon(day.condition, day.icon)}\n                  </span>\n                  <span className=\"text-xs text-muted-foreground capitalize hidden sm:block\">\n                    {day.condition}\n                  </span>\n                </div>\n                <div className=\"flex gap-4 w-24 justify-end\">\n                  <span className=\"font-semibold\">\n                    {Math.round(day.tempMax)}¬∞\n                  </span>\n                  <span className=\"text-muted-foreground\">\n                    {Math.round(day.tempMin)}¬∞\n                  </span>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n      {children}\n    </motion.div>\n  );\n});\n","type MediaSourceType = \"stream\" | \"upload\" | \"url\" | \"embed\";\n\ntype MediaStatus = \"generating\" | \"ready\" | \"failed\";\n\ntype MediaTag = {\n  label: string;\n  tone?: \"default\" | \"success\" | \"warning\" | \"danger\";\n};\n\ntype MediaMetadata = {\n  model?: string | null;\n  prompt?: string | null;\n  negativePrompt?: string | null;\n  seed?: number | null;\n  steps?: number | null;\n  guidance?: number | null;\n  sampler?: string | null;\n  scheduler?: string | null;\n  style?: string | null;\n  lora?: string[] | null;\n  upscaler?: string | null;\n  safety?: string | null;\n  aspectRatio?: string | null;\n};\n\ntype MediaIdentity = {\n  id?: string | null;\n  title?: string | null;\n  description?: string | null;\n  createdAt?: string | null;\n  author?: string | null;\n  license?: string | null;\n  source?: string | null;\n};\n\ntype MediaStatusInfo = {\n  status?: MediaStatus | null;\n  progress?: number | null;\n  errorMessage?: string | null;\n};\n\ntype MediaLocation = {\n  sourceType?: MediaSourceType | null;\n  src?: string | null;\n  streamUrl?: string | null;\n  embedUrl?: string | null;\n  uploadName?: string | null;\n  provider?: \"youtube\" | \"vimeo\" | \"custom\" | null;\n};\n\ntype MediaSpec = {\n  identity?: MediaIdentity;\n  metadata?: MediaMetadata;\n  status?: MediaStatusInfo;\n  location?: MediaLocation;\n  tags?: MediaTag[] | null;\n  sizeBytes?: number | null;\n};\n\ntype MediaPresentation = {\n  title?: string | null;\n  caption?: string | null;\n  width?: number | null;\n  height?: number | null;\n  format?: string | null;\n  duration?: number | null;\n  fps?: number | null;\n  resolution?: string | null;\n};\n\nexport type MediaCoreProps = {\n  item: MediaSpec & MediaPresentation;\n  accentColor?: string;\n};\n\nexport function formatBytes(bytes?: number | null): string {\n  if (!bytes || bytes <= 0) return \"-\";\n  const units = [\"B\", \"KB\", \"MB\", \"GB\"];\n  let value = bytes;\n  let unitIndex = 0;\n  while (value >= 1024 && unitIndex < units.length - 1) {\n    value /= 1024;\n    unitIndex += 1;\n  }\n  return `${value.toFixed(value >= 10 ? 0 : 1)} ${units[unitIndex]}`;\n}\n\nexport function formatDuration(seconds?: number | null): string {\n  if (!seconds || seconds <= 0) return \"-\";\n  const mins = Math.floor(seconds / 60);\n  const secs = Math.floor(seconds % 60);\n  const hours = Math.floor(mins / 60);\n  const remMins = mins % 60;\n  if (hours > 0) {\n    return `${hours}:${String(remMins).padStart(2, \"0\")}:${String(secs).padStart(2, \"0\")}`;\n  }\n  return `${mins}:${String(secs).padStart(2, \"0\")}`;\n}\n\nexport function getStatusTone(status?: MediaStatus | null): MediaTag[\"tone\"] {\n  switch (status) {\n    case \"ready\":\n      return \"success\";\n    case \"failed\":\n      return \"danger\";\n    case \"generating\":\n    default:\n      return \"warning\";\n  }\n}\n\nexport function getProgressPercent(progress?: number | null): number {\n  if (!progress) return 0;\n  if (progress <= 1) return Math.round(progress * 100);\n  return Math.round(progress);\n}\n\nexport function buildStatusLabel(status?: MediaStatus | null): string {\n  switch (status) {\n    case \"ready\":\n      return \"Ready\";\n    case \"failed\":\n      return \"Failed\";\n    case \"generating\":\n    default:\n      return \"Generating\";\n  }\n}\n\nexport function getAccentColor(accentColor?: string) {\n  return accentColor ?? \"var(--primary)\";\n}\n","\"use client\";\n\nimport { memo, useState, useCallback } from \"react\";\nimport { type ComponentRenderProps } from \"@onegenui/react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport {\n  FileText,\n  ChevronRight,\n  ChevronDown,\n  Loader2,\n  CheckCircle2,\n  AlertCircle,\n  BookOpen,\n  Hash,\n} from \"lucide-react\";\nimport type { DocumentIndexNode, DocumentIndexStatus } from \"./schema\";\n\ntype DocumentIndexProps = {\n  fileName: string;\n  status?: DocumentIndexStatus | null;\n  message?: string | null;\n  progress?: number | null;\n  pageCount?: number | null;\n  currentPage?: number | null;\n  description?: string | null;\n  nodes?: DocumentIndexNode[] | null;\n  error?: string | null;\n};\n\nconst STATUS_CONFIG: Record<\n  DocumentIndexStatus,\n  { label: string; icon: typeof Loader2; color: string }\n> = {\n  idle: { label: \"Ready\", icon: FileText, color: \"text-muted-foreground\" },\n  parsing: { label: \"Parsing PDF\", icon: Loader2, color: \"text-blue-400\" },\n  analyzing: {\n    label: \"Analyzing structure\",\n    icon: Loader2,\n    color: \"text-purple-400\",\n  },\n  building: {\n    label: \"Building index\",\n    icon: Loader2,\n    color: \"text-amber-400\",\n  },\n  complete: { label: \"Complete\", icon: CheckCircle2, color: \"text-green-400\" },\n  error: { label: \"Error\", icon: AlertCircle, color: \"text-red-400\" },\n} as const;\n\nconst LOADING_STATUSES = new Set<DocumentIndexStatus>([\n  \"parsing\",\n  \"analyzing\",\n  \"building\",\n]);\n\nexport const DocumentIndex = memo(function DocumentIndex({\n  element,\n  children,\n}: ComponentRenderProps) {\n  const props = element.props as DocumentIndexProps;\n  const {\n    fileName,\n    status = \"idle\",\n    message,\n    progress,\n    pageCount,\n    currentPage,\n    description,\n    nodes,\n    error,\n  } = props;\n\n  const currentStatus = status || \"idle\";\n  const config = STATUS_CONFIG[currentStatus];\n  const StatusIcon = config.icon;\n  const isLoading = LOADING_STATUSES.has(currentStatus);\n\n  return (\n    <div className=\"flex flex-col gap-4 w-full\">\n      {/* Card container */}\n      <div className=\"flex flex-col gap-3 p-4 rounded-xl border border-white/10 card-glass\">\n        {/* Header */}\n        <div className=\"flex items-start justify-between gap-3\">\n          <div className=\"flex items-center gap-3 min-w-0\">\n            <div className=\"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center shrink-0\">\n              <BookOpen size={20} className=\"text-primary\" />\n            </div>\n            <div className=\"min-w-0\">\n              <h4 className=\"text-sm font-semibold text-foreground truncate m-0\">\n                {fileName}\n              </h4>\n              {description && (\n                <p className=\"text-xs text-muted-foreground line-clamp-1 mt-0.5 m-0\">\n                  {description}\n                </p>\n              )}\n            </div>\n          </div>\n\n          {/* Status badge */}\n          <div\n            className={`flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${config.color} bg-white/5`}\n          >\n            <StatusIcon size={12} className={isLoading ? \"animate-spin\" : \"\"} />\n            <span>{config.label}</span>\n          </div>\n        </div>\n\n        {/* Progress bar */}\n        {isLoading && (\n          <div className=\"space-y-1.5\">\n            <div className=\"flex justify-between text-xs text-muted-foreground\">\n              <span>{message || \"Processing...\"}</span>\n              {progress != null && <span>{Math.round(progress)}%</span>}\n              {currentPage != null && pageCount != null && (\n                <span>\n                  Page {currentPage} / {pageCount}\n                </span>\n              )}\n            </div>\n            <div className=\"h-1.5 bg-white/5 rounded-full overflow-hidden\">\n              <motion.div\n                className=\"h-full bg-primary/60 rounded-full\"\n                initial={{ width: 0 }}\n                animate={{\n                  width: progress != null ? `${progress}%` : \"30%\",\n                }}\n                transition={{ duration: 0.3 }}\n                style={\n                  progress == null\n                    ? {\n                        animation: \"indeterminate 1.5s infinite ease-in-out\",\n                      }\n                    : undefined\n                }\n              />\n            </div>\n          </div>\n        )}\n\n        {/* Error message */}\n        {error && (\n          <div className=\"px-3 py-2 rounded-lg bg-red-500/10 border border-red-500/20 text-xs text-red-400\">\n            {error}\n          </div>\n        )}\n\n        {/* Index tree */}\n        {nodes && nodes.length > 0 && (\n          <div className=\"mt-2 border-t border-white/5 pt-3\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <Hash size={14} className=\"text-muted-foreground\" />\n              <span className=\"text-xs font-medium text-muted-foreground uppercase tracking-wide\">\n                Document Structure\n              </span>\n              {pageCount && (\n                <span className=\"text-xs text-muted-foreground/60\">\n                  ({pageCount} pages)\n                </span>\n              )}\n            </div>\n            <div className=\"space-y-0.5\">\n              <AnimatePresence mode=\"popLayout\">\n                {nodes.map((node, idx) => (\n                  <IndexNode key={node.id || idx} node={node} depth={0} />\n                ))}\n              </AnimatePresence>\n            </div>\n          </div>\n        )}\n\n        {/* Empty state when complete but no nodes */}\n        {currentStatus === \"complete\" && (!nodes || nodes.length === 0) && (\n          <div className=\"py-8 flex flex-col items-center justify-center border border-dashed border-white/10 rounded-xl\">\n            <FileText className=\"w-10 h-10 opacity-20 mb-3\" />\n            <p className=\"text-xs uppercase tracking-widest opacity-50 m-0\">\n              No structure found\n            </p>\n          </div>\n        )}\n      </div>\n\n      {/* Children rendered last */}\n      {children}\n    </div>\n  );\n});\n\nconst IndexNode = memo(function IndexNode({\n  node,\n  depth,\n}: {\n  node: DocumentIndexNode;\n  depth: number;\n}) {\n  const [expanded, setExpanded] = useState(depth < 2);\n  const hasChildren = node.children && node.children.length > 0;\n  const paddingLeft = depth * 16 + 8;\n\n  const handleToggle = useCallback(() => {\n    if (hasChildren) {\n      setExpanded((prev) => !prev);\n    }\n  }, [hasChildren]);\n\n  const handleKeyDown = useCallback(\n    (e: React.KeyboardEvent) => {\n      if ((e.key === \"Enter\" || e.key === \" \") && hasChildren) {\n        e.preventDefault();\n        setExpanded((prev) => !prev);\n      }\n    },\n    [hasChildren],\n  );\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, x: -10 }}\n      animate={{ opacity: 1, x: 0 }}\n      exit={{ opacity: 0, x: -10 }}\n      transition={{ duration: 0.2 }}\n    >\n      <div\n        role={hasChildren ? \"button\" : undefined}\n        tabIndex={hasChildren ? 0 : undefined}\n        onClick={handleToggle}\n        onKeyDown={handleKeyDown}\n        aria-expanded={hasChildren ? expanded : undefined}\n        className={`w-full flex items-center gap-2 py-1.5 px-2 rounded-md text-left\n          ${hasChildren ? \"hover:bg-white/5 cursor-pointer\" : \"cursor-default\"}\n          transition-colors group`}\n        style={{ paddingLeft }}\n      >\n        {/* Expand icon */}\n        <span className=\"w-4 h-4 flex items-center justify-center shrink-0\">\n          {hasChildren ? (\n            expanded ? (\n              <ChevronDown size={14} className=\"text-muted-foreground\" />\n            ) : (\n              <ChevronRight size={14} className=\"text-muted-foreground\" />\n            )\n          ) : (\n            <span className=\"w-1.5 h-1.5 rounded-full bg-white/20\" />\n          )}\n        </span>\n\n        {/* Title */}\n        <span\n          className={`flex-1 text-sm truncate ${\n            depth === 0 ? \"font-medium text-foreground\" : \"text-foreground/80\"\n          }`}\n        >\n          {node.title}\n        </span>\n\n        {/* Page range */}\n        {(node.startPage != null || node.endPage != null) && (\n          <span className=\"text-xs text-muted-foreground/60 shrink-0 tabular-nums\">\n            {node.startPage != null && node.endPage != null\n              ? node.startPage === node.endPage\n                ? `p.${node.startPage}`\n                : `p.${node.startPage}-${node.endPage}`\n              : node.startPage != null\n                ? `p.${node.startPage}+`\n                : `p.${node.endPage}`}\n          </span>\n        )}\n      </div>\n\n      {/* Summary */}\n      <AnimatePresence>\n        {node.summary && expanded && (\n          <motion.div\n            initial={{ opacity: 0, height: 0 }}\n            animate={{ opacity: 1, height: \"auto\" }}\n            exit={{ opacity: 0, height: 0 }}\n            className=\"text-xs text-muted-foreground/70 leading-relaxed pb-1\"\n            style={{ paddingLeft: paddingLeft + 24, paddingRight: 8 }}\n          >\n            {node.summary}\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Children */}\n      <AnimatePresence>\n        {expanded && hasChildren && (\n          <motion.div\n            initial={{ opacity: 0, height: 0 }}\n            animate={{ opacity: 1, height: \"auto\" }}\n            exit={{ opacity: 0, height: 0 }}\n            transition={{ duration: 0.2 }}\n          >\n            {node.children!.map((child, idx) => (\n              <IndexNode key={child.id || idx} node={child} depth={depth + 1} />\n            ))}\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </motion.div>\n  );\n});\n","import { memo } from \"react\";\nimport { type ComponentRenderProps } from \"@onegenui/react\";\nimport { motion } from \"framer-motion\";\nimport { cn } from \"../../utils/cn\";\nimport {\n  buildStatusLabel,\n  formatDuration,\n  getAccentColor,\n  getProgressPercent,\n  getStatusTone,\n} from \"../../utils/media-utils\";\nimport { Music } from \"lucide-react\";\n\ntype AudioTrack = {\n  id?: string | null;\n  title?: string | null;\n  src?: string | null;\n  prompt?: string | null;\n  duration?: number | null;\n  speaker?: string | null;\n  style?: string | null;\n  status?: \"generating\" | \"ready\" | \"failed\" | null;\n  progress?: number | null;\n  tags?: Array<{\n    label: string;\n    tone?: \"default\" | \"success\" | \"warning\" | \"danger\";\n  }> | null;\n};\n\nexport const Audio = memo(function Audio({\n  element,\n  children,\n}: ComponentRenderProps) {\n  const {\n    title,\n    tracks = [],\n    accentColor,\n  } = element.props as {\n    title?: string | null;\n    tracks?: AudioTrack[] | null;\n    accentColor?: string | null;\n  };\n\n  const accent = getAccentColor(accentColor ?? undefined);\n\n  if (!tracks || tracks.length === 0) {\n    return (\n      <div className=\"py-12 flex flex-col items-center justify-center border border-dashed border-white/10 rounded-2xl bg-zinc-900/20 text-muted-foreground\">\n        <Music className=\"w-10 h-10 opacity-20 mb-3\" />\n        <p className=\"font-mono text-xs uppercase tracking-widest opacity-50\">\n          No audio tracks\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      {title && <h3 className=\"m-0 text-lg font-semibold\">{title}</h3>}\n      <div className=\"flex flex-col gap-3\">\n        {tracks.map((track, index) => {\n          const status = track.status ?? \"ready\";\n          const progress = getProgressPercent(track.progress);\n          const tone = getStatusTone(status);\n          const statusLabel = buildStatusLabel(status);\n\n          return (\n            <motion.div\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: index * 0.05 }}\n              key={track.id ?? `${track.title ?? \"track\"}-${index}`}\n              data-selectable-item\n              data-element-key={element.key}\n              data-item-id={track.id ?? `${index}`}\n              className=\"card-glass p-4 flex flex-col gap-2.5 hover:shadow-2xl\"\n            >\n              <div className=\"flex items-center justify-between\">\n                <div className=\"text-[15px] font-semibold text-foreground\">\n                  {track.title ?? \"Untitled\"}\n                </div>\n                <div className=\"flex gap-1.5\">\n                  <span\n                    className={cn(\n                      \"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[11px] font-semibold uppercase tracking-wide border\",\n                      {\n                        \"bg-white/10 text-foreground border-white/10\":\n                          tone === \"default\",\n                        \"bg-emerald-500/15 text-emerald-500 border-emerald-500/20\":\n                          tone === \"success\",\n                        \"bg-amber-500/15 text-amber-500 border-amber-500/20\":\n                          tone === \"warning\",\n                        \"bg-rose-500/15 text-rose-500 border-rose-500/20\":\n                          tone === \"danger\",\n                      },\n                    )}\n                  >\n                    {statusLabel}\n                  </span>\n                  {track.duration && (\n                    <span className=\"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[11px] font-semibold uppercase tracking-wide border border-white/10 bg-white/10 text-foreground\">\n                      {formatDuration(track.duration)}\n                    </span>\n                  )}\n                </div>\n              </div>\n\n              <audio\n                controls\n                src={track.src ?? undefined}\n                className=\"w-full mt-1 accent-[var(--accent-color,var(--primary))]\"\n                // Using CSS variable for dynamic accent color to avoid inline style for accent-color directly\n                style={\n                  {\n                    \"--accent-color\":\n                      accent !== \"var(--primary)\" ? accent : undefined,\n                  } as React.CSSProperties\n                }\n              />\n\n              {status === \"generating\" && (\n                <div className=\"flex flex-col gap-1.5 mt-1\">\n                  <div className=\"text-xs text-muted-foreground\">\n                    Rendering {progress}%\n                  </div>\n                  <div className=\"h-1.5 w-full rounded-full bg-muted/20 overflow-hidden\">\n                    <motion.div\n                      initial={{ width: 0 }}\n                      animate={{ width: `${progress}%` }}\n                      className=\"h-full rounded-full bg-[var(--progress-color,var(--primary))]\"\n                      style={\n                        {\n                          \"--progress-color\":\n                            accent !== \"var(--primary)\" ? accent : undefined,\n                        } as React.CSSProperties\n                      }\n                    />\n                  </div>\n                </div>\n              )}\n\n              {track.prompt && (\n                <div className=\"text-xs text-muted-foreground/80 mt-1\">\n                  {track.prompt}\n                </div>\n              )}\n\n              <div className=\"flex flex-wrap gap-3 text-xs text-muted-foreground font-medium mt-1\">\n                {track.speaker && (\n                  <span>\n                    Voice:{\" \"}\n                    <span className=\"text-foreground\">{track.speaker}</span>\n                  </span>\n                )}\n                {track.style && (\n                  <span>\n                    Style:{\" \"}\n                    <span className=\"text-foreground\">{track.style}</span>\n                  </span>\n                )}\n              </div>\n            </motion.div>\n          );\n        })}\n      </div>\n      {children}\n    </div>\n  );\n});\n","import { memo } from \"react\";\nimport { type ComponentRenderProps } from \"@onegenui/react\";\nimport { motion } from \"framer-motion\";\nimport type { VideoProps } from \"./schema\";\nimport {\n  buildStatusLabel,\n  getAccentColor,\n  getProgressPercent,\n  getStatusTone,\n} from \"../../utils/media-utils\";\nimport { Video as VideoIcon } from \"lucide-react\";\nimport { getVideoSource, VideoPlayer, VideoMetadataPanel } from \"./components\";\n\nexport const Video = memo(function Video({\n  element,\n  children,\n}: ComponentRenderProps) {\n  const { title, videos = [], accentColor } = element.props as VideoProps;\n  const accent = getAccentColor(accentColor ?? undefined);\n\n  if (!videos || videos.length === 0) {\n    return (\n      <div className=\"py-12 flex flex-col items-center justify-center border border-dashed border-white/10 rounded-2xl bg-zinc-900/20 text-muted-foreground\">\n        <VideoIcon className=\"w-10 h-10 opacity-20 mb-3\" />\n        <p className=\"font-mono text-xs uppercase tracking-widest opacity-50\">\n          No videos available\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      {title && <h3 className=\"m-0 text-lg font-semibold\">{title}</h3>}\n      <div className=\"flex flex-col gap-4\">\n        {videos.map((video, index) => {\n          const status = video.status?.status ?? \"ready\";\n          const progress = getProgressPercent(video.status?.progress);\n          const statusTone = getStatusTone(status);\n          const statusLabel = buildStatusLabel(status);\n          const videoSource = getVideoSource(video);\n\n          return (\n            <motion.div\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: index * 0.05 }}\n              key={video.id ?? `${video.title ?? \"video\"}-${index}`}\n              className=\"grid grid-cols-1 md:grid-cols-[2fr_1.3fr] gap-0 overflow-hidden rounded-[18px] border border-white/10 bg-zinc-900 shadow-2xl bg-[linear-gradient(135deg,rgba(24,24,27,0.9)_0%,rgba(9,9,11,0.95)_100%)]\"\n            >\n              <VideoPlayer\n                video={video}\n                status={status}\n                statusTone={statusTone}\n                statusLabel={statusLabel}\n                videoSource={videoSource}\n              />\n              <VideoMetadataPanel\n                video={video}\n                elementKey={element.key}\n                index={index}\n                status={status}\n                progress={progress}\n                accent={accent}\n              />\n            </motion.div>\n          );\n        })}\n      </div>\n      {children}\n    </div>\n  );\n});\n","import type { VideoItem, VideoProvider } from \"../schema\";\n\nexport interface VideoEmbedInfo {\n  provider: VideoProvider;\n  embedUrl: string;\n  videoId: string;\n}\n\nexport interface VideoSourceInfo {\n  type: \"embed\" | \"direct\" | \"stream\";\n  url: string;\n  provider?: VideoProvider;\n  embedUrl?: string;\n}\n\nexport interface ProviderInfo {\n  name: string;\n  color: string;\n}\n\n/**\n * Detect video provider and generate embed URL from various URL formats.\n */\nexport function detectVideoEmbed(url: string): VideoEmbedInfo | null {\n  if (!url) return null;\n\n  // YouTube patterns\n  const youtubePatterns = [\n    /(?:youtube\\.com\\/watch\\?v=|youtu\\.be\\/|youtube\\.com\\/embed\\/|youtube\\.com\\/v\\/|youtube\\.com\\/shorts\\/)([a-zA-Z0-9_-]{11})/,\n  ];\n  for (const pattern of youtubePatterns) {\n    const match = url.match(pattern);\n    if (match?.[1]) {\n      return {\n        provider: \"youtube\",\n        videoId: match[1],\n        embedUrl: `https://www.youtube.com/embed/${match[1]}?rel=0&modestbranding=1`,\n      };\n    }\n  }\n\n  // Vimeo patterns\n  const vimeoMatch = url.match(/vimeo\\.com\\/(?:video\\/)?(\\d+)/);\n  if (vimeoMatch?.[1]) {\n    return {\n      provider: \"vimeo\",\n      videoId: vimeoMatch[1],\n      embedUrl: `https://player.vimeo.com/video/${vimeoMatch[1]}?byline=0&portrait=0`,\n    };\n  }\n\n  // Dailymotion patterns\n  const dailymotionPatterns = [\n    /dailymotion\\.com\\/video\\/([a-zA-Z0-9]+)/,\n    /dai\\.ly\\/([a-zA-Z0-9]+)/,\n  ];\n  for (const pattern of dailymotionPatterns) {\n    const match = url.match(pattern);\n    if (match?.[1]) {\n      return {\n        provider: \"dailymotion\",\n        videoId: match[1],\n        embedUrl: `https://www.dailymotion.com/embed/video/${match[1]}`,\n      };\n    }\n  }\n\n  // Twitch patterns (clips and videos)\n  const twitchClipMatch = url.match(/twitch\\.tv\\/\\w+\\/clip\\/([a-zA-Z0-9_-]+)/);\n  if (twitchClipMatch?.[1]) {\n    return {\n      provider: \"twitch\",\n      videoId: twitchClipMatch[1],\n      embedUrl: `https://clips.twitch.tv/embed?clip=${twitchClipMatch[1]}&parent=${typeof window !== \"undefined\" ? window.location.hostname : \"localhost\"}`,\n    };\n  }\n\n  const twitchVideoMatch = url.match(/twitch\\.tv\\/videos\\/(\\d+)/);\n  if (twitchVideoMatch?.[1]) {\n    return {\n      provider: \"twitch\",\n      videoId: twitchVideoMatch[1],\n      embedUrl: `https://player.twitch.tv/?video=${twitchVideoMatch[1]}&parent=${typeof window !== \"undefined\" ? window.location.hostname : \"localhost\"}`,\n    };\n  }\n\n  // TikTok patterns\n  const tiktokMatch = url.match(\n    /tiktok\\.com\\/@[\\w.-]+\\/video\\/(\\d+)|tiktok\\.com\\/t\\/([a-zA-Z0-9]+)/,\n  );\n  if (tiktokMatch?.[1] || tiktokMatch?.[2]) {\n    const videoId = tiktokMatch[1] || tiktokMatch[2];\n    return {\n      provider: \"tiktok\",\n      videoId: videoId!,\n      embedUrl: `https://www.tiktok.com/embed/v2/${videoId}`,\n    };\n  }\n\n  // Twitter/X patterns\n  const twitterMatch = url.match(/(?:twitter\\.com|x\\.com)\\/\\w+\\/status\\/(\\d+)/);\n  if (twitterMatch?.[1]) {\n    return {\n      provider: \"twitter\",\n      videoId: twitterMatch[1],\n      embedUrl: `https://platform.twitter.com/embed/Tweet.html?id=${twitterMatch[1]}`,\n    };\n  }\n\n  return null;\n}\n\n/**\n * Get the best source URL for a video, detecting embeds automatically.\n */\nexport function getVideoSource(video: VideoItem): VideoSourceInfo {\n  if (video.location?.embedUrl) {\n    return {\n      type: \"embed\",\n      url: video.location.embedUrl,\n      embedUrl: video.location.embedUrl,\n      provider: video.location.provider ?? \"custom\",\n    };\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const videoAny = video as any;\n  const src =\n    video.location?.src ||\n    video.location?.streamUrl ||\n    video.source ||\n    videoAny.url ||\n    videoAny.link ||\n    videoAny.videoUrl ||\n    videoAny.embedUrl ||\n    \"\";\n\n  const embedInfo = detectVideoEmbed(src);\n\n  if (embedInfo) {\n    return {\n      type: \"embed\",\n      url: src,\n      embedUrl: embedInfo.embedUrl,\n      provider: embedInfo.provider,\n    };\n  }\n\n  if (video.location?.streamUrl) {\n    return {\n      type: \"stream\",\n      url: video.location.streamUrl,\n    };\n  }\n\n  return {\n    type: \"direct\",\n    url: src,\n  };\n}\n\n/**\n * Provider-specific iframe attributes\n */\nexport function getIframeAttributes(provider?: VideoProvider): string {\n  const base =\n    \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\";\n\n  switch (provider) {\n    case \"youtube\":\n    case \"vimeo\":\n    case \"twitch\":\n      return `${base}; fullscreen`;\n    case \"tiktok\":\n    case \"twitter\":\n      return base;\n    default:\n      return `${base}; fullscreen`;\n  }\n}\n\n/**\n * Get provider display name and icon color\n */\nexport function getProviderInfo(provider?: VideoProvider): ProviderInfo {\n  switch (provider) {\n    case \"youtube\":\n      return { name: \"YouTube\", color: \"#FF0000\" };\n    case \"vimeo\":\n      return { name: \"Vimeo\", color: \"#1AB7EA\" };\n    case \"dailymotion\":\n      return { name: \"Dailymotion\", color: \"#00AAFF\" };\n    case \"twitch\":\n      return { name: \"Twitch\", color: \"#9146FF\" };\n    case \"tiktok\":\n      return { name: \"TikTok\", color: \"#000000\" };\n    case \"twitter\":\n      return { name: \"X\", color: \"#1DA1F2\" };\n    default:\n      return { name: \"Video\", color: \"#666666\" };\n  }\n}\n","import { memo } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { cn } from \"../../../utils/cn\";\nimport type { VideoItem, VideoTag } from \"../schema\";\nimport {\n  formatBytes,\n  formatDuration,\n  getProgressPercent,\n} from \"../../../utils/media-utils\";\nimport {\n  getVideoSource,\n  getProviderInfo,\n  getIframeAttributes,\n  type VideoSourceInfo,\n} from \"./video-utils\";\n\ninterface VideoPlayerProps {\n  video: VideoItem;\n  status: string;\n  statusTone?: string;\n  statusLabel: string;\n  videoSource: VideoSourceInfo;\n}\n\nexport const VideoPlayer = memo(function VideoPlayer({\n  video,\n  status,\n  statusTone,\n  statusLabel,\n  videoSource,\n}: VideoPlayerProps) {\n  const isEmbed = videoSource.type === \"embed\";\n  const isStreaming = status === \"generating\" && videoSource.type === \"stream\";\n  const providerInfo = getProviderInfo(videoSource.provider);\n  const placeholder =\n    video.poster ||\n    \"https://images.unsplash.com/photo-1519681393784-d120267933ba?auto=format&fit=crop&w=1200&q=80\";\n\n  return (\n    <div className=\"relative bg-black min-h-[280px]\">\n      <div className=\"absolute top-4 left-4 flex gap-2 z-[2] pointer-events-none\">\n        <span\n          className={cn(\n            \"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[11px] font-semibold uppercase tracking-wide border shadow-sm backdrop-blur-md\",\n            {\n              \"bg-white/10 text-white border-white/10\":\n                statusTone === \"default\",\n              \"bg-green-500/20 text-green-400 border-green-500/30\":\n                statusTone === \"success\",\n              \"bg-yellow-500/20 text-yellow-400 border-yellow-500/30\":\n                statusTone === \"warning\",\n              \"bg-red-500/20 text-red-400 border-red-500/30\":\n                statusTone === \"danger\",\n            },\n          )}\n        >\n          {statusLabel}\n        </span>\n        {videoSource.provider && (\n          <span\n            className=\"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[11px] font-semibold uppercase tracking-wide border shadow-sm backdrop-blur-md bg-[color-mix(in_srgb,var(--provider-color),transparent_86%)] text-[var(--provider-color)] border-[color-mix(in_srgb,var(--provider-color),transparent_73%)]\"\n            style={\n              { \"--provider-color\": providerInfo.color } as React.CSSProperties\n            }\n          >\n            {providerInfo.name}\n          </span>\n        )}\n      </div>\n\n      {isEmbed && videoSource.embedUrl ? (\n        <iframe\n          title={video.title ?? \"Embedded video\"}\n          src={videoSource.embedUrl}\n          className=\"w-full h-full min-h-[280px] border-0 block\"\n          allow={getIframeAttributes(videoSource.provider)}\n          allowFullScreen\n          loading=\"lazy\"\n        />\n      ) : (\n        <video\n          controls\n          muted={status === \"generating\"}\n          poster={placeholder}\n          className=\"w-full h-full min-h-[280px] object-cover bg-black\"\n          preload=\"metadata\"\n        >\n          {videoSource.url && <source src={videoSource.url} />}\n        </video>\n      )}\n\n      {isStreaming && (\n        <div className=\"absolute inset-0 flex items-center justify-center bg-black/40 text-white font-semibold text-sm backdrop-blur-sm\">\n          Streaming video...\n        </div>\n      )}\n    </div>\n  );\n});\n\ninterface VideoMetadataPanelProps {\n  video: VideoItem;\n  elementKey: string;\n  index: number;\n  status: string;\n  progress: number;\n  accent: string;\n}\n\nexport const VideoMetadataPanel = memo(function VideoMetadataPanel({\n  video,\n  elementKey,\n  index,\n  status,\n  progress,\n  accent,\n}: VideoMetadataPanelProps) {\n  const metaItems: Array<{ label: string; value: string }> = [];\n  if (video.resolution)\n    metaItems.push({ label: \"Resolution\", value: video.resolution });\n  if (video.fps) metaItems.push({ label: \"FPS\", value: `${video.fps}` });\n  if (video.codec) metaItems.push({ label: \"Codec\", value: video.codec });\n  if (video.duration)\n    metaItems.push({\n      label: \"Duration\",\n      value: formatDuration(video.duration),\n    });\n  if (video.sizeBytes)\n    metaItems.push({\n      label: \"File\",\n      value: formatBytes(video.sizeBytes),\n    });\n\n  return (\n    <div\n      data-selectable-item\n      data-element-key={elementKey}\n      data-item-id={video.id ?? `${index}`}\n      className=\"p-[18px] flex flex-col gap-3 h-full\"\n    >\n      <div>\n        <div className=\"text-base font-semibold text-foreground\">\n          {video.title ?? \"Untitled video\"}\n        </div>\n        {video.caption && (\n          <div className=\"text-[13px] text-muted-foreground mt-1 leading-snug\">\n            {video.caption}\n          </div>\n        )}\n      </div>\n\n      {status === \"generating\" && (\n        <div className=\"flex flex-col gap-1.5\">\n          <div className=\"text-xs text-muted-foreground\">\n            Rendering {progress}%\n          </div>\n          <div className=\"h-1.5 w-full rounded-full bg-muted/20 overflow-hidden\">\n            <motion.div\n              initial={{ width: 0 }}\n              animate={{ width: `${progress}%` }}\n              className=\"h-full rounded-full transition-all duration-200 ease-out bg-[var(--progress-color,var(--primary))]\"\n              style={\n                {\n                  \"--progress-color\":\n                    accent !== \"var(--primary)\" ? accent : undefined,\n                } as React.CSSProperties\n              }\n            />\n          </div>\n        </div>\n      )}\n\n      {video.metadata?.prompt && (\n        <div className=\"bg-white/5 border border-white/5 rounded-xl px-3 py-2.5 text-xs text-muted-foreground/90 leading-relaxed\">\n          {video.metadata.prompt}\n        </div>\n      )}\n\n      <div className=\"grid grid-cols-2 gap-3 mt-auto\">\n        {metaItems.map((meta) => (\n          <div key={meta.label} className=\"flex flex-col gap-0.5\">\n            <span className=\"text-[11px] text-muted-foreground uppercase tracking-wider font-semibold opacity-70\">\n              {meta.label}\n            </span>\n            <span className=\"text-[13px] text-foreground font-semibold\">\n              {meta.value}\n            </span>\n          </div>\n        ))}\n      </div>\n\n      {(video.tags?.length ?? 0) > 0 && (\n        <div className=\"flex flex-wrap gap-1.5 mt-2\">\n          {video.tags?.map((tag) => {\n            const tone = tag.tone ?? \"default\";\n            return (\n              <span\n                key={tag.label}\n                className={cn(\n                  \"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold uppercase tracking-wide border\",\n                  {\n                    \"bg-white/5 text-muted-foreground border-white/10\":\n                      tone === \"default\",\n                    \"bg-green-500/10 text-green-500 border-green-500/20\":\n                      tone === \"success\",\n                    \"bg-yellow-500/10 text-yellow-500 border-yellow-500/20\":\n                      tone === \"warning\",\n                    \"bg-red-500/10 text-red-500 border-red-500/20\":\n                      tone === \"danger\",\n                  },\n                )}\n              >\n                {tag.label}\n              </span>\n            );\n          })}\n        </div>\n      )}\n\n      {video.transcript && (\n        <div\n          className=\"text-xs text-muted-foreground pl-2.5 border-l-2 py-1 italic leading-relaxed border-l-[color:var(--accent-color,var(--primary))]\"\n          style={{ \"--accent-color\": accent } as React.CSSProperties}\n        >\n          {video.transcript}\n        </div>\n      )}\n\n      <div className=\"flex flex-wrap gap-3 text-xs text-muted-foreground mt-2 pt-2 border-t border-white/5\">\n        {video.author && (\n          <span>\n            Author: <span className=\"text-foreground/80\">{video.author}</span>\n          </span>\n        )}\n        {video.license && (\n          <span>\n            License: <span className=\"text-foreground/80\">{video.license}</span>\n          </span>\n        )}\n        {video.createdAt && <span>{video.createdAt}</span>}\n      </div>\n    </div>\n  );\n});\n","import { memo } from \"react\";\nimport { type ComponentRenderProps } from \"@onegenui/react\";\nimport { motion } from \"framer-motion\";\nimport { cn } from \"../../utils/cn\";\nimport {\n  buildStatusLabel,\n  formatBytes,\n  getAccentColor,\n  getProgressPercent,\n  getStatusTone,\n} from \"../../utils/media-utils\";\nimport { Image as ImageIcon } from \"lucide-react\";\n\ntype ImageItem = {\n  id?: string | null;\n  title?: string | null;\n  caption?: string | null;\n  description?: string | null;\n  createdAt?: string | null;\n  author?: string | null;\n  license?: string | null;\n  /** Direct source URL - REQUIRED */\n  source: string;\n  width?: number | null;\n  height?: number | null;\n  format?: string | null;\n  sizeBytes?: number | null;\n  alt?: string | null;\n  tags?: Array<{\n    label: string;\n    tone?: \"default\" | \"success\" | \"warning\" | \"danger\";\n  }> | null;\n  metadata?: {\n    model?: string | null;\n    prompt?: string | null;\n    negativePrompt?: string | null;\n    seed?: number | null;\n    steps?: number | null;\n    guidance?: number | null;\n    sampler?: string | null;\n    scheduler?: string | null;\n    style?: string | null;\n    lora?: string[] | null;\n    upscaler?: string | null;\n    safety?: string | null;\n    aspectRatio?: string | null;\n  } | null;\n  status?: {\n    status?: \"generating\" | \"ready\" | \"failed\" | null;\n    progress?: number | null;\n    errorMessage?: string | null;\n  } | null;\n  location?: {\n    sourceType?: \"stream\" | \"upload\" | \"url\" | \"embed\" | null;\n    src?: string | null;\n    streamUrl?: string | null;\n    embedUrl?: string | null;\n    uploadName?: string | null;\n  } | null;\n};\n\nexport const Image = memo(function Image({\n  element,\n  children,\n}: ComponentRenderProps) {\n  const {\n    title,\n    images = [],\n    accentColor,\n  } = element.props as {\n    title?: string | null;\n    images?: ImageItem[] | null;\n    accentColor?: string | null;\n    columns?: number | null;\n  };\n\n  const accent = getAccentColor(accentColor ?? undefined);\n\n  if (!images || images.length === 0) {\n    return (\n      <div className=\"py-12 flex flex-col items-center justify-center border border-dashed border-white/10 rounded-2xl bg-zinc-900/20 text-muted-foreground\">\n        <ImageIcon className=\"w-10 h-10 opacity-20 mb-3\" />\n        <p className=\"font-mono text-xs uppercase tracking-widest opacity-50\">\n          No images available\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      {title && <h3 className=\"m-0 text-lg font-semibold\">{title}</h3>}\n      <div className=\"grid grid-cols-[repeat(auto-fit,minmax(260px,1fr))] gap-4\">\n        {images.map((image, index) => {\n          const status = image.status?.status ?? \"ready\";\n          const progress = getProgressPercent(image.status?.progress);\n          const statusTone = getStatusTone(status);\n          const statusLabel = buildStatusLabel(status);\n          const isStreaming =\n            status === \"generating\" && !!image.location?.streamUrl;\n\n          // source is REQUIRED - no fallback placeholder\n          const imageSrc = image.source;\n\n          // Skip images without valid source\n          if (!imageSrc) {\n            return null;\n          }\n\n          const metaItems: Array<{ label: string; value: string }> = [];\n          if (image.format)\n            metaItems.push({ label: \"Format\", value: image.format });\n          if (image.width && image.height) {\n            metaItems.push({\n              label: \"Size\",\n              value: `${image.width}√ó${image.height}`,\n            });\n          }\n          if (image.sizeBytes) {\n            metaItems.push({\n              label: \"File\",\n              value: formatBytes(image.sizeBytes),\n            });\n          }\n          if (image.metadata?.model) {\n            metaItems.push({ label: \"Model\", value: image.metadata.model });\n          }\n          if (image.metadata?.style) {\n            metaItems.push({ label: \"Style\", value: image.metadata.style });\n          }\n\n          return (\n            <motion.div\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: index * 0.05 }}\n              key={image.id ?? `${image.title ?? \"image\"}-${index}`}\n              data-selectable-item\n              data-element-key={element.key}\n              data-item-id={image.id ?? `${index}`}\n              className=\"flex flex-col min-w-0 overflow-hidden rounded-[18px] border border-white/10 bg-zinc-900 shadow-2xl transition-all bg-[linear-gradient(135deg,rgba(24,24,27,0.9)_0%,rgba(9,9,11,0.95)_100%)]\"\n            >\n              <div className=\"relative\">\n                {/* Only show status badge if not ready */}\n                {status !== \"ready\" && (\n                  <div className=\"absolute top-4 left-4 flex gap-2 items-center z-[2]\">\n                    <span\n                      className={cn(\n                        \"inline-flex items-center px-2.5 py-1 rounded-full text-[11px] font-semibold uppercase tracking-wide border shadow-sm backdrop-blur-md\",\n                        {\n                          \"bg-white/10 text-white border-white/10\":\n                            statusTone === \"default\",\n                          \"bg-emerald-500/20 text-emerald-400 border-emerald-500/30\":\n                            statusTone === \"success\",\n                          \"bg-amber-500/20 text-amber-400 border-amber-500/30\":\n                            statusTone === \"warning\",\n                          \"bg-rose-500/20 text-rose-400 border-rose-500/30\":\n                            statusTone === \"danger\",\n                        },\n                      )}\n                    >\n                      {statusLabel}\n                    </span>\n                  </div>\n                )}\n\n                <img\n                  src={imageSrc}\n                  alt={image.alt ?? image.title ?? \"AI generated image\"}\n                  className={cn(\"w-full h-[220px] object-cover block\", {\n                    \"opacity-40\": status === \"failed\",\n                  })}\n                />\n\n                {isStreaming && (\n                  <div className=\"absolute inset-0 flex items-center justify-center bg-black/45 text-white text-sm font-semibold backdrop-blur-sm\">\n                    Streaming preview...\n                  </div>\n                )}\n              </div>\n\n              <div className=\"p-4 flex flex-col gap-3\">\n                <div className=\"flex flex-col gap-1\">\n                  <div className=\"text-[15px] font-semibold text-foreground\">\n                    {image.title || image.caption || image.alt || \"\"}\n                  </div>\n                  {image.caption && (\n                    <div className=\"text-[13px] text-muted-foreground line-clamp-2\">\n                      {image.caption}\n                    </div>\n                  )}\n                </div>\n\n                {status === \"generating\" && (\n                  <div className=\"flex flex-col gap-1.5\">\n                    <div className=\"text-xs text-muted-foreground\">\n                      Rendering {progress}%\n                    </div>\n                    <div className=\"h-1.5 w-full rounded-full bg-muted/20 overflow-hidden\">\n                      <motion.div\n                        initial={{ width: 0 }}\n                        animate={{ width: `${progress}%` }}\n                        className=\"h-full rounded-full bg-[var(--progress-color,var(--primary))]\"\n                        // Using inline style for dynamic progress width and color\n                        style={\n                          {\n                            \"--progress-color\":\n                              accent !== \"var(--primary)\" ? accent : undefined,\n                          } as React.CSSProperties\n                        }\n                      />\n                    </div>\n                  </div>\n                )}\n\n                {image.status?.errorMessage && (\n                  <div className=\"text-xs text-destructive\">\n                    {image.status.errorMessage}\n                  </div>\n                )}\n\n                {image.metadata?.prompt && (\n                  <div className=\"bg-white/5 border border-white/5 rounded-xl px-3 py-2.5 text-xs text-muted-foreground/90 font-medium leading-relaxed line-clamp-3\">\n                    {image.metadata.prompt}\n                  </div>\n                )}\n\n                <div className=\"grid grid-cols-2 gap-3 mt-auto\">\n                  {metaItems.map((meta) => (\n                    <div key={meta.label} className=\"flex flex-col gap-0.5\">\n                      <span className=\"text-[11px] text-muted-foreground uppercase tracking-wider font-semibold opacity-70\">\n                        {meta.label}\n                      </span>\n                      <span className=\"text-[13px] text-foreground font-semibold truncate\">\n                        {meta.value}\n                      </span>\n                    </div>\n                  ))}\n                </div>\n\n                {(image.tags?.length ?? 0) > 0 && (\n                  <div className=\"flex flex-wrap gap-1.5 mt-1\">\n                    {image.tags?.map((tag) => {\n                      const tone = tag.tone ?? \"default\";\n                      return (\n                        <span\n                          key={tag.label}\n                          className={cn(\n                            \"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold uppercase tracking-wide border\",\n                            {\n                              \"bg-white/5 text-muted-foreground border-white/10\":\n                                tone === \"default\",\n                              \"bg-emerald-500/10 text-emerald-500 border-emerald-500/20\":\n                                tone === \"success\",\n                              \"bg-amber-500/10 text-amber-500 border-amber-500/20\":\n                                tone === \"warning\",\n                              \"bg-rose-500/10 text-rose-500 border-rose-500/20\":\n                                tone === \"danger\",\n                            },\n                          )}\n                        >\n                          {tag.label}\n                        </span>\n                      );\n                    })}\n                  </div>\n                )}\n\n                <div className=\"flex flex-wrap gap-3 text-xs text-muted-foreground mt-2 pt-2 border-t border-white/5\">\n                  {image.author && <span>Author: {image.author}</span>}\n                  {image.license && <span>License: {image.license}</span>}\n                  {image.createdAt && <span>{image.createdAt}</span>}\n                </div>\n              </div>\n            </motion.div>\n          );\n        })}\n      </div>\n      {children}\n    </div>\n  );\n});\n","import { memo } from \"react\";\nimport { type ComponentRenderProps } from \"@onegenui/react\";\nimport { motion } from \"framer-motion\";\nimport { cn } from \"../../utils/cn\";\nimport {\n  buildStatusLabel,\n  getAccentColor,\n  getProgressPercent,\n  getStatusTone,\n} from \"../../utils/media-utils\";\nimport { Images } from \"lucide-react\";\n\ntype GalleryItem = {\n  id?: string | null;\n  title?: string | null;\n  src?: string | null;\n  prompt?: string | null;\n  status?: \"generating\" | \"ready\" | \"failed\" | null;\n  progress?: number | null;\n  tags?: Array<{\n    label: string;\n    tone?: \"default\" | \"success\" | \"warning\" | \"danger\";\n  }> | null;\n};\n\nexport const Gallery = memo(function Gallery({\n  element,\n  children,\n}: ComponentRenderProps) {\n  const {\n    title,\n    items = [],\n    accentColor,\n  } = element.props as {\n    title?: string | null;\n    items?: GalleryItem[] | null;\n    accentColor?: string | null;\n  };\n\n  const accent = getAccentColor(accentColor ?? undefined);\n\n  if (!items || items.length === 0) {\n    return (\n      <div className=\"py-12 flex flex-col items-center justify-center border border-dashed border-white/10 rounded-2xl bg-zinc-900/20 text-muted-foreground\">\n        <Images className=\"w-10 h-10 opacity-20 mb-3\" />\n        <p className=\"font-mono text-xs uppercase tracking-widest opacity-50\">\n          No images in gallery\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      {title && <h3 className=\"m-0 text-lg font-semibold\">{title}</h3>}\n      <div className=\"grid grid-cols-[repeat(auto-fit,minmax(180px,1fr))] gap-3\">\n        {items.map((item, index) => {\n          const status = item.status ?? \"ready\";\n          const statusLabel = buildStatusLabel(status);\n          const statusTone = getStatusTone(status);\n          const progress = getProgressPercent(item.progress);\n\n          return (\n            <motion.div\n              initial={{ opacity: 0, scale: 0.9 }}\n              animate={{ opacity: 1, scale: 1 }}\n              transition={{ delay: index * 0.05 }}\n              key={item.id ?? `${item.title ?? \"image\"}-${index}`}\n              data-selectable-item\n              data-element-key={element.key}\n              data-item-id={item.id ?? `${index}`}\n              className=\"rounded-2xl overflow-hidden border border-[color:color-mix(in_srgb,var(--accent-color,var(--border)),transparent_86%)] card-glass relative min-h-[160px] hover:shadow-xl\"\n              // Using CSS variable for dynamic accent color to avoid inline style for border color directly\n              style={\n                {\n                  \"--accent-color\": accent,\n                } as React.CSSProperties\n              }\n            >\n              <img\n                src={\n                  item.src ??\n                  \"https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format&fit=crop&w=800&q=80\"\n                }\n                alt={item.title ?? \"AI image\"}\n                className=\"w-full h-[180px] object-cover\"\n              />\n              <div className=\"absolute top-3 left-3 flex gap-1.5 z-[2]\">\n                <span\n                  className={cn(\n                    \"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold uppercase tracking-wide border shadow-sm backdrop-blur-md\",\n                    {\n                      \"bg-white/10 text-white border-white/10\":\n                        statusTone === \"default\",\n                      \"bg-emerald-500/20 text-emerald-400 border-emerald-500/30\":\n                        statusTone === \"success\",\n                      \"bg-amber-500/20 text-amber-400 border-amber-500/30\":\n                        statusTone === \"warning\",\n                      \"bg-rose-500/20 text-rose-400 border-rose-500/30\":\n                        statusTone === \"danger\",\n                    },\n                  )}\n                >\n                  {statusLabel}\n                </span>\n                {status === \"generating\" && (\n                  <span className=\"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold uppercase tracking-wide border shadow-sm backdrop-blur-md bg-white/10 text-white border-white/10\">\n                    {progress}%\n                  </span>\n                )}\n              </div>\n\n              <div className=\"p-3 flex flex-col gap-1.5\">\n                <div className=\"font-semibold text-[13px] text-foreground truncate\">\n                  {item.title ?? \"Untitled\"}\n                </div>\n                {item.prompt && (\n                  <div className=\"text-xs text-muted-foreground line-clamp-2\">\n                    {item.prompt}\n                  </div>\n                )}\n                {item.tags && item.tags.length > 0 && (\n                  <div className=\"flex flex-wrap gap-1.5 mt-1\">\n                    {item.tags.map((tag) => {\n                      const tone = tag.tone ?? \"default\";\n                      return (\n                        <span\n                          key={tag.label}\n                          className={cn(\n                            \"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold uppercase tracking-wide border\",\n                            {\n                              \"bg-white/5 text-muted-foreground border-white/10\":\n                                tone === \"default\",\n                              \"bg-emerald-500/10 text-emerald-500 border-emerald-500/20\":\n                                tone === \"success\",\n                              \"bg-amber-500/10 text-amber-500 border-amber-500/20\":\n                                tone === \"warning\",\n                              \"bg-rose-500/10 text-rose-500 border-rose-500/20\":\n                                tone === \"danger\",\n                            },\n                          )}\n                        >\n                          {tag.label}\n                        </span>\n                      );\n                    })}\n                  </div>\n                )}\n              </div>\n            </motion.div>\n          );\n        })}\n      </div>\n      {children}\n    </div>\n  );\n});\n"],"mappings":"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","names":["Card","memo","motion","jsx","jsxs","memo","Grid","motion","memo","useCallback","useEffect","useRef","useState","motion","jsx","GAP_CLASSES","memo","Stack","useRef","useState","useCallback","useEffect","motion","memo","motion","jsx","jsxs","Divider","memo","motion","jsxs","memo","Heading","motion","memo","motion","jsxs","memo","Text","motion","memo","useState","motion","AnimatePresence","jsx","jsxs","containerVariants","itemVariants","memo","CodeBlock","useState","motion","AnimatePresence","memo","motion","AnimatePresence","jsx","jsxs","containerVariants","itemVariants","Document","memo","motion","jsx","jsxs","memo","Badge","motion","memo","useState","useData","motion","AnimatePresence","jsx","jsxs","memo","Alert","useData","useState","AnimatePresence","motion","memo","motion","jsx","jsxs","memo","Empty","motion","memo","motion","jsx","jsxs","memo","BrowserAction","motion","memo","motion","jsx","jsxs","memo","Button","motion","memo","useId","useData","motion","jsx","jsxs","memo","TextField","useData","useId","motion","memo","useData","motion","jsx","jsxs","memo","Select","useData","motion","memo","useData","motion","jsx","jsxs","memo","DatePicker","useData","motion","memo","useData","motion","jsx","jsxs","memo","Metric","useData","motion","memo","useData","motion","AnimatePresence","jsx","jsxs","containerVariants","memo","Table","useData","motion","AnimatePresence","memo","useData","motion","jsx","jsxs","memo","List","useData","motion","memo","useData","motion","jsx","jsxs","memo","Timeline","useData","motion","memo","useState","Globe","memo","useState","useRef","useEffect","useCallback","jsx","jsxs","CitationLink","handleClick","memo","jsx","memo","TextWithCitations","memo","useState","motion","AnimatePresence","ChevronDown","jsx","jsxs","memo","SynthesisSection","useState","motion","ChevronDown","AnimatePresence","memo","useState","motion","Fragment","jsx","jsxs","memo","MediaGallery","useState","motion","memo","useState","motion","ChevronDown","jsx","jsxs","memo","SourcesSidebar","useState","motion","ChevronDown","memo","useState","motion","Globe","Play","Fragment","jsx","jsxs","RichResultCard","memo","useState","motion","Globe","jsx","jsxs","InlineResult","jsx","jsxs","memo","SearchResults","useState","Globe","memo","motion","User","jsx","jsxs","memo","DriveFile","motion","User","memo","useState","AnimatePresence","motion","memo","motion","jsx","jsxs","ListIcon","jsx","jsxs","memo","FileGridCard","motion","FileListRow","jsx","jsxs","memo","DriveFileList","useState","ListIcon","motion","AnimatePresence","memo","motion","jsx","jsxs","memo","Weather","motion","memo","useState","useCallback","motion","AnimatePresence","FileText","ChevronRight","ChevronDown","CheckCircle2","AlertCircle","BookOpen","jsx","jsxs","DocumentIndex","IndexNode","memo","motion","jsx","jsxs","memo","Audio","motion","memo","motion","detectVideoEmbed","memo","motion","jsx","jsxs","memo","VideoPlayer","VideoMetadataPanel","motion","jsx","jsxs","memo","Video","motion","memo","motion","jsx","jsxs","memo","Image","motion","memo","motion","jsx","jsxs","memo","Gallery","motion"]}